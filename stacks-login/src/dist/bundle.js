/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t,e,n,r,o={320:(t,e)=>{"use strict";function n(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function r(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)}function o(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function i(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(t.outputLen),n(t.blockLen)}function s(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){o(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=n,e.bool=r,e.bytes=o,e.hash=i,e.exists=s,e.output=a;const c={number:n,bool:r,bytes:o,hash:i,exists:s,output:a};e.default=c},505:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const r=n(320),o=n(89);class i extends o.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,o.createView)(this.buffer)}update(t){r.default.exists(this);const{view:e,buffer:n,blockLen:i}=this,s=(t=(0,o.toBytes)(t)).length;for(let r=0;r<s;){const a=Math.min(i-this.pos,s-r);if(a!==i)n.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,o.createView)(t);for(;i<=s-r;r+=i)this.process(e,r)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){r.default.exists(this),r.default.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let t=a;t<i;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,o.createView)(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)c.setUint32(4*t,h[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=o,t.destroyed=i,r%e&&t.buffer.set(n),t}}e.SHA2=i},421:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},569:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const r=n(320),o=n(89);class i extends o.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,r.default.hash(t);const n=(0,o.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return r.default.exists(this),this.iHash.update(t),this}digestInto(t){r.default.exists(this),r.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,n)=>new i(t,e).update(n).digest(),e.hmac.create=(t,e)=>new i(t,e)},61:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;const r=n(505),o=n(89),i=(t,e,n)=>t&e^t&n^e&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[t,e,n,r,o,i,s,a]}set(t,e,n,r,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=c[t-15],n=c[t-2],r=(0,o.rotr)(e,7)^(0,o.rotr)(e,18)^e>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;c[t]=i+c[t-7]+r+c[t-16]|0}let{A:n,B:r,C:a,D:l,E:u,F:h,G:f,H:d}=this;for(let t=0;t<64;t++){const e=d+((0,o.rotr)(u,6)^(0,o.rotr)(u,11)^(0,o.rotr)(u,25))+((p=u)&h^~p&f)+s[t]+c[t]|0,y=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+i(n,r,a)|0;d=f,f=h,h=u,u=l+e|0,l=a,a=r,r=n,n=e+y|0}var p;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,l=l+this.D|0,u=u+this.E|0,h=h+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,r,a,l,u,h,f,d)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,o.wrapConstructor)((()=>new l)),e.sha224=(0,o.wrapConstructor)((()=>new u))},89:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const r=n(421);if(e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function i(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function s(t){if("string"==typeof t&&(t=i(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=o[t[n]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e},e.nextTick=async()=>{},e.asyncLoop=async function(t,n,r){let o=Date.now();for(let i=0;i<t;i++){r(i);const t=Date.now()-o;t>=0&&t<n||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=i,e.toBytes=s,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n},e.Hash=class{clone(){return this._cloneInto()}},e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(n=e,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(s(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,n)=>t(n).update(s(e)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(t));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}},656:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;const r=n(159),o=BigInt(0),i=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(8),l=Object.freeze({a:o,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:i,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=l;const u=(t,e)=>(t+e/s)/e,h={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=l,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-i*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=u(s*t,e),h=u(-r*t,e);let f=D(t-c*n-h*o,e),d=D(-c*r-h*s,e);const p=f>a,y=d>a;if(p&&(f=e-f),y&&(d=e-d),f>a||d>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:p,k1:f,k2neg:y,k2:d}}},f=32,d=32,p=f+1,y=2*f+1;function g(t){const{a:e,b:n}=l,r=D(t*t),o=D(r*t);return D(o+e*t+n)}const w=l.a===o;class m extends Error{constructor(t){super(t)}}function b(t){if(!(t instanceof v))throw new TypeError("JacobianPoint expected")}class v{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof x))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(x.ZERO)?v.ZERO:new v(t.x,t.y,i)}static toAffineBatch(t){const e=function(t,e=l.P){const n=new Array(t.length),r=M(t.reduce(((t,r,i)=>r===o?t:(n[i]=t,D(t*r,e))),i),e);return t.reduceRight(((t,r,i)=>r===o?t:(n[i]=D(t*n[i],e),D(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return v.toAffineBatch(t).map(v.fromAffine)}equals(t){b(t);const{x:e,y:n,z:r}=this,{x:o,y:i,z:s}=t,a=D(r*r),c=D(s*s),l=D(e*c),u=D(o*a),h=D(D(n*s)*c),f=D(D(i*r)*a);return l===u&&h===f}negate(){return new v(this.x,D(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=D(t*t),o=D(e*e),i=D(o*o),l=t+o,u=D(s*(D(l*l)-r-i)),h=D(a*r),f=D(h*h),d=D(f-s*u),p=D(h*(u-d)-c*i),y=D(s*e*n);return new v(d,p,y)}add(t){b(t);const{x:e,y:n,z:r}=this,{x:i,y:a,z:c}=t;if(i===o||a===o)return this;if(e===o||n===o)return t;const l=D(r*r),u=D(c*c),h=D(e*u),f=D(i*l),d=D(D(n*c)*u),p=D(D(a*r)*l),y=D(f-h),g=D(p-d);if(y===o)return g===o?this.double():v.ZERO;const w=D(y*y),m=D(y*w),E=D(h*w),S=D(g*g-m-s*E),x=D(g*(E-S)-d*m),A=D(r*c*y);return new v(S,x,A)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=v.ZERO;if("bigint"==typeof t&&t===o)return e;let n=L(t);if(n===i)return this;if(!w){let t=e,r=this;for(;n>o;)n&i&&(t=t.add(r)),r=r.double(),n>>=i;return t}let{k1neg:r,k1:s,k2neg:a,k2:c}=h.splitScalar(n),l=e,u=e,f=this;for(;s>o||c>o;)s&i&&(l=l.add(f)),c&i&&(u=u.add(f)),f=f.double(),s>>=i,c>>=i;return r&&(l=l.negate()),a&&(u=u.negate()),u=new v(D(u.x*h.beta),u.y,u.z),l.add(u)}precomputeWindow(t){const e=w?128/t+1:256/t+1,n=[];let r=this,o=r;for(let i=0;i<e;i++){o=r,n.push(o);for(let e=1;e<2**(t-1);e++)o=o.add(r),n.push(o);r=o.double()}return n}wNAF(t,e){!e&&this.equals(v.BASE)&&(e=x.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&S.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=v.normalizeZ(r),S.set(e,r)));let o=v.ZERO,s=v.BASE;const a=1+(w?128/n:256/n),c=2**(n-1),l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let e=0;e<a;e++){const n=e*c;let a=Number(t&l);t>>=h,a>c&&(a-=u,t+=i);const f=n,d=n+Math.abs(a)-1,p=e%2!=0,y=a<0;0===a?s=s.add(E(p,r[f])):o=o.add(E(y,r[d]))}return{p:o,f:s}}multiply(t,e){let n,r,o=L(t);if(w){const{k1neg:t,k1:i,k2neg:s,k2:a}=h.splitScalar(o);let{p:c,f:l}=this.wNAF(i,e),{p:u,f}=this.wNAF(a,e);c=E(t,c),u=E(s,u),u=new v(D(u.x*h.beta),u.y,u.z),n=c.add(u),r=l.add(f)}else{const{p:t,f:i}=this.wNAF(o,e);n=t,r=i}return v.normalizeZ([n,r])[0]}toAffine(t){const{x:e,y:n,z:r}=this,o=this.equals(v.ZERO);null==t&&(t=o?c:M(r));const s=t,a=D(s*s),l=D(a*s),u=D(e*a),h=D(n*l),f=D(r*s);if(o)return x.ZERO;if(f!==i)throw new Error("invZ was invalid");return new x(u,h)}}function E(t,e){const n=e.negate();return t?n:e}v.BASE=new v(l.Gx,l.Gy,i),v.ZERO=new v(o,i,o);const S=new WeakMap;class x{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,S.delete(this)}hasEvenY(){return this.y%s===o}static fromCompressedHex(t){const e=32===t.length,n=N(e?t:t.subarray(1));if(!G(n))throw new Error("Point is not on curve");let r=function(t){const{P:e}=l,n=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),h=t*t*t%e,f=h*h*t%e,d=j(f,a)*f%e,p=j(d,a)*f%e,y=j(p,s)*h%e,g=j(y,r)*y%e,w=j(g,o)*g%e,m=j(w,c)*w%e,b=j(m,u)*m%e,v=j(b,c)*w%e,E=j(v,a)*f%e,S=j(E,i)*g%e,x=j(S,n)*h%e,A=j(x,s);if(A*A%e!==t)throw new Error("Cannot find square root");return A}(g(n));const o=(r&i)===i;e?o&&(r=D(-r)):1==(1&t[0])!==o&&(r=D(-r));const c=new x(n,r);return c.assertValidity(),c}static fromUncompressedHex(t){const e=N(t.subarray(1,f+1)),n=N(t.subarray(f+1,2*f+1)),r=new x(e,n);return r.assertValidity(),r}static fromHex(t){const e=R(t),n=e.length,r=e[0];if(n===f)return this.fromCompressedHex(e);if(n===p&&(2===r||3===r))return this.fromCompressedHex(e);if(n===y&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${p} compressed bytes or ${y} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return x.BASE.multiply(J(t))}static fromSignature(t,e,n){const{r,s:o}=X(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const i=F(R(t)),{n:s}=l,a=2===n||3===n?r+s:r,c=M(a,s),u=D(-i*c,s),h=D(o*c,s),f=1&n?"03":"02",d=x.fromHex(f+U(a)),p=x.BASE.multiplyAndAddUnsafe(d,u,h);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return H(this.toHex(t))}toHex(t=!1){const e=U(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${U(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!G(e)||!G(n))throw new Error(t);const r=D(n*n);if(D(r-g(e))!==o)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new x(this.x,D(-this.y))}double(){return v.fromAffine(this).double().toAffine()}add(t){return v.fromAffine(this).add(v.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return v.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=v.fromAffine(this),s=e===o||e===i||this!==x.BASE?r.multiplyUnsafe(e):r.multiply(e),a=v.fromAffine(t).multiplyUnsafe(n),c=s.add(a);return c.equals(v.ZERO)?void 0:c.toAffine()}}function A(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function $(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${_(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:N(n),left:t.subarray(e+2)}}e.Point=x,x.BASE=new x(l.Gx,l.Gy),x.ZERO=new x(o,o);class B{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?_(t):t;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new B(P(r.slice(0,64)),P(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${_(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=$(t.subarray(2)),{data:r,left:o}=$(n);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${_(o)}`);return{r:e,s:r}}(e?t:H(t));return new B(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!q(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!q(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=l.n>>i;return this.s>t}normalizeS(){return this.hasHighS()?new B(this.r,D(-this.s,l.n)):this}toDERRawBytes(){return H(this.toDERHex())}toDERHex(){const t=A(O(this.s)),e=A(O(this.r)),n=t.length/2,r=e.length/2,o=O(n),i=O(r);return`30${O(r+n+4)}02${i}${e}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return H(this.toCompactHex())}toCompactHex(){return U(this.r)+U(this.s)}}function T(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}e.Signature=B;const I=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function _(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=I[t[n]];return e}const k=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function U(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(o<=t&&t<k))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function C(t){const e=H(U(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function O(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function P(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function H(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function N(t){return P(_(t))}function R(t){return t instanceof Uint8Array?Uint8Array.from(t):H(t)}function L(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&q(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(t,e=l.P){const n=t%e;return n>=o?n:e+n}function j(t,e){const{P:n}=l;let r=t;for(;e-- >o;)r*=r,r%=n;return r}function M(t,e=l.P){if(t===o||e<=o)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=D(t,e),r=e,s=o,a=i,c=i,u=o;for(;n!==o;){const t=r/n,e=r%n,o=s-c*t,i=a-u*t;r=n,n=e,s=c,a=u,c=o,u=i}if(r!==i)throw new Error("invert: does not exist");return D(s,e)}function F(t,e=!1){const n=function(t){const e=8*t.length-8*d,n=N(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;const{n:r}=l;return n>=r?n-r:n}let K,z;class V{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return e.utils.hmacSha256(this.k,...t)}hmacSync(...t){return z(this.k,...t)}checkSync(){if("function"!=typeof z)throw new m("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return T(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return T(...e)}}function q(t){return o<t&&t<l.n}function G(t){return o<t&&t<l.P}function W(t,e,n,r=!0){const{n:s}=l,a=F(t,!0);if(!q(a))return;const c=M(a,s),u=x.BASE.multiply(a),h=D(u.x,s);if(h===o)return;const f=D(c*D(e+n*h,s),s);if(f===o)return;let d=new B(h,f),p=(u.x===d.r?0:2)|Number(u.y&i);return r&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function J(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*d)throw new Error("Expected 32 bytes of private key");e=P(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==d)throw new Error("Expected 32 bytes of private key");e=N(t)}if(!q(e))throw new Error("Expected private key: 0 < key < n");return e}function Z(t){return t instanceof x?(t.assertValidity(),t):x.fromHex(t)}function X(t){if(t instanceof B)return t.assertValidity(),t;try{return B.fromDER(t)}catch(e){return B.fromCompact(t)}}function Y(t){const e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?r===p||r===y:n?r===2*p||r===2*y:t instanceof x}function Q(t){return N(t.length>f?t.slice(0,f):t)}function tt(t){const e=Q(t),n=D(e,l.n);return et(n<o?e:n)}function et(t){return C(t)}function nt(t,n,r){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const o=R(t),i=J(n),s=[et(i),tt(o)];if(null!=r){!0===r&&(r=e.utils.randomBytes(f));const t=R(r);if(t.length!==f)throw new Error(`sign: Expected ${f} bytes of extra data`);s.push(t)}return{seed:T(...s),m:Q(o),d:i}}function rt(t,e){const{sig:n,recovery:r}=t,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},e),s=o?n.toDERRawBytes():n.toCompactRawBytes();return i?[s,r]:s}e.getPublicKey=function(t,e=!1){return x.fromPrivateKey(t).toRawBytes(e)},e.recoverPublicKey=function(t,e,n,r=!1){return x.fromSignature(t,e,n).toRawBytes(r)},e.getSharedSecret=function(t,e,n=!1){if(Y(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Y(e))throw new TypeError("getSharedSecret: second arg must be public key");const r=Z(e);return r.assertValidity(),r.multiply(J(t)).toRawBytes(n)},e.sign=async function(t,e,n={}){const{seed:r,m:o,d:i}=nt(t,e,n.extraEntropy),s=new V(32,d);let a;for(await s.reseed(r);!(a=W(await s.generate(),o,i,n.canonical));)await s.reseed();return rt(a,n)},e.signSync=function(t,e,n={}){const{seed:r,m:o,d:i}=nt(t,e,n.extraEntropy),s=new V(32,d);let a;for(s.reseedSync(r);!(a=W(s.generateSync(),o,i,n.canonical));)s.reseedSync();return rt(a,n)};const ot={strict:!0};function it(t){return D(N(t),l.n)}e.verify=function(t,e,n,r=ot){let o;try{o=X(t),e=R(e)}catch(t){return!1}const{r:i,s}=o;if(r.strict&&o.hasHighS())return!1;const a=F(e);let c;try{c=Z(n)}catch(t){return!1}const{n:u}=l,h=M(s,u),f=D(a*h,u),d=D(i*h,u),p=x.BASE.multiplyAndAddUnsafe(c,f,d);return!!p&&D(p.x,u)===i};class st{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=R(t);if(64!==e.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);const n=N(e.subarray(0,32)),r=N(e.subarray(32,64));return new st(n,r)}assertValidity(){const{r:t,s:e}=this;if(!G(t)||!q(e))throw new Error("Invalid signature")}toHex(){return U(this.r)+U(this.s)}toRawBytes(){return H(this.toHex())}}class at{constructor(t,n,r=e.utils.randomBytes()){if(null==t)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=R(t);const{x:o,scalar:i}=this.getScalar(J(n));if(this.px=o,this.d=i,this.rand=R(r),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){const e=x.fromPrivateKey(t),n=e.hasEvenY()?t:l.n-t;return{point:e,scalar:n,x:e.toRawX()}}initNonce(t,e){return C(t^N(e))}finalizeNonce(t){const e=D(N(t),l.n);if(e===o)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:r,scalar:i}=this.getScalar(e);return{R:n,rx:r,k:i}}finalizeSig(t,e,n,r){return new st(t.x,D(e+n*r,l.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:t,d:n,px:r,rand:o}=this,i=e.utils.taggedHash,s=this.initNonce(n,await i(dt.aux,o)),{R:a,rx:c,k:l}=this.finalizeNonce(await i(dt.nonce,s,r,t)),u=it(await i(dt.challenge,c,r,t)),h=this.finalizeSig(a,l,u,n);return await ut(h,t,r)||this.error(),h}calcSync(){const{m:t,d:n,px:r,rand:o}=this,i=e.utils.taggedHashSync,s=this.initNonce(n,i(dt.aux,o)),{R:a,rx:c,k:l}=this.finalizeNonce(i(dt.nonce,s,r,t)),u=it(i(dt.challenge,c,r,t)),h=this.finalizeSig(a,l,u,n);return ht(h,t,r)||this.error(),h}}function ct(t,e,n){const r=t instanceof st,o=r?t:st.fromHex(t);return r&&o.assertValidity(),{...o,m:R(e),P:Z(n)}}function lt(t,e,n,r){const o=x.BASE.multiplyAndAddUnsafe(e,J(n),D(-r,l.n));return!(!o||!o.hasEvenY()||o.x!==t)}async function ut(t,n,r){try{const{r:o,s:i,m:s,P:a}=ct(t,n,r),c=it(await e.utils.taggedHash(dt.challenge,C(o),a.toRawX(),s));return lt(o,a,i,c)}catch(t){return!1}}function ht(t,n,r){try{const{r:o,s:i,m:s,P:a}=ct(t,n,r),c=it(e.utils.taggedHashSync(dt.challenge,C(o),a.toRawX(),s));return lt(o,a,i,c)}catch(t){if(t instanceof m)throw t;return!1}}e.schnorr={Signature:st,getPublicKey:function(t){return x.fromPrivateKey(t).toRawX()},sign:async function(t,e,n){return new at(t,e,n).calc()},verify:ut,signSync:function(t,e,n){return new at(t,e,n).calcSync()},verifySync:ht},x.BASE._setWindowSize(8);const ft={node:r,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},dt={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},pt={};e.utils={bytesToHex:_,hexToBytes:H,concatBytes:T,mod:D,invert:M,isValidPrivateKey(t){try{return J(t),!0}catch(t){return!1}},_bigintTo32Bytes:C,_normalizePrivateKey:J,hashToPrivateKey:t=>{t=R(t);const e=d+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return C(D(N(t),l.n-i)+i)},randomBytes:(t=32)=>{if(ft.web)return ft.web.getRandomValues(new Uint8Array(t));if(ft.node){const{randomBytes:e}=ft.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(d+8)),precompute(t=8,e=x.BASE){const n=e===x.BASE?e:new x(e.x,e.y);return n._setWindowSize(t),n.multiply(a),n},sha256:async(...t)=>{if(ft.web){const e=await ft.web.subtle.digest("SHA-256",T(...t));return new Uint8Array(e)}if(ft.node){const{createHash:e}=ft.node,n=e("sha256");return t.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(ft.web){const n=await ft.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=T(...e),o=await ft.web.subtle.sign("HMAC",n,r);return new Uint8Array(o)}if(ft.node){const{createHmac:n}=ft.node,r=n("sha256",t);return e.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...n)=>{let r=pt[t];if(void 0===r){const n=await e.utils.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=T(n,n),pt[t]=r}return e.utils.sha256(r,...n)},taggedHashSync:(t,...e)=>{if("function"!=typeof K)throw new m("sha256Sync is undefined, you need to set it");let n=pt[t];if(void 0===n){const e=K(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=T(e,e),pt[t]=n}return K(n,...e)},_JacobianPoint:v},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get:()=>K,set(t){K||(K=t)}},hmacSha256Sync:{configurable:!1,get:()=>z,set(t){z||(z=t)}}})},468:(t,e,n)=>{"use strict";n.d(e,{b:()=>P,g:()=>f,h:()=>l,p:()=>G,r:()=>R});let r,o,i=!1;const s={},a=t=>"object"==(t=typeof t)||"function"===t;function c(t){var e,n,r;return null!==(r=null===(n=null===(e=t.head)||void 0===e?void 0:e.querySelector('meta[name="csp-nonce"]'))||void 0===n?void 0:n.getAttribute("content"))&&void 0!==r?r:void 0}const l=(t,e,...n)=>{let r=null,o=!1,i=!1;const s=[],c=e=>{for(let n=0;n<e.length;n++)r=e[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((o="function"!=typeof t&&!a(r))&&(r=String(r)),o&&i?s[s.length-1].$text$+=r:s.push(o?u(null,r):r),i=o)};if(c(n),e){const t=e.className||e.class;t&&(e.class="object"!=typeof t?t:Object.keys(t).filter((e=>t[e])).join(" "))}const l=u(t,null);return l.$attrs$=e,s.length>0&&(l.$children$=s),l},u=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),h={},f=t=>N(t).$hostElement$,d=new WeakMap,p=(t,e)=>"sc-"+t.$tagName$,y=(t,e,n,r,o,i)=>{if(n!==r){let s=D(t,e),c=e.toLowerCase();if("class"===e){const e=t.classList,o=w(n),i=w(r);e.remove(...o.filter((t=>t&&!i.includes(t)))),e.add(...i.filter((t=>t&&!o.includes(t))))}else if(s||"o"!==e[0]||"n"!==e[1]){const c=a(r);if((s||c&&null!==r)&&!o)try{if(t.tagName.includes("-"))t[e]=r;else{const o=null==r?"":r;"list"===e?s=!1:null!=n&&t[e]==o||(t[e]=o)}}catch(t){}null==r||!1===r?!1===r&&""!==t.getAttribute(e)||t.removeAttribute(e):(!s||4&i||o)&&!c&&(r=!0===r?"":r,t.setAttribute(e,r))}else e="-"===e[2]?e.slice(3):D(z,c)?c.slice(2):c[2]+e.slice(3),n&&q.rel(t,e,n,!1),r&&q.ael(t,e,r,!1)}},g=/\s/,w=t=>t?t.split(g):[],m=(t,e,n,r)=>{const o=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||s,a=e.$attrs$||s;for(r in i)r in a||y(o,r,i[r],void 0,n,e.$flags$);for(r in a)y(o,r,i[r],a[r],n,e.$flags$)},b=(t,e,n,o)=>{const i=e.$children$[n];let s,a,c=0;if(null!==i.$text$)s=i.$elm$=V.createTextNode(i.$text$);else if(s=i.$elm$=V.createElement(i.$tag$),m(null,i,!1),null!=r&&s["s-si"]!==r&&s.classList.add(s["s-si"]=r),i.$children$)for(c=0;c<i.$children$.length;++c)a=b(t,i,c),a&&s.appendChild(a);return s},v=(t,e,n,r,i,s)=>{let a,c=t;for(c.shadowRoot&&c.tagName===o&&(c=c.shadowRoot);i<=s;++i)r[i]&&(a=b(null,n,i),a&&(r[i].$elm$=a,c.insertBefore(a,e)))},E=(t,e,n,r,o)=>{for(;e<=n;++e)(r=t[e])&&r.$elm$.remove()},S=(t,e)=>t.$tag$===e.$tag$,x=(t,e)=>{const n=e.$elm$=t.$elm$,r=t.$children$,o=e.$children$,i=e.$text$;null===i?(m(t,e,!1),null!==r&&null!==o?((t,e,n,r)=>{let o,i=0,s=0,a=e.length-1,c=e[0],l=e[a],u=r.length-1,h=r[0],f=r[u];for(;i<=a&&s<=u;)null==c?c=e[++i]:null==l?l=e[--a]:null==h?h=r[++s]:null==f?f=r[--u]:S(c,h)?(x(c,h),c=e[++i],h=r[++s]):S(l,f)?(x(l,f),l=e[--a],f=r[--u]):S(c,f)?(x(c,f),t.insertBefore(c.$elm$,l.$elm$.nextSibling),c=e[++i],f=r[--u]):S(l,h)?(x(l,h),t.insertBefore(l.$elm$,c.$elm$),l=e[--a],h=r[++s]):(o=b(e&&e[s],n,s),h=r[++s],o&&c.$elm$.parentNode.insertBefore(o,c.$elm$));i>a?v(t,null==r[u+1]?null:r[u+1].$elm$,n,r,s,u):s>u&&E(e,i,a)})(n,r,e,o):null!==o?(null!==t.$text$&&(n.textContent=""),v(n,null,e,o,0,o.length-1)):null!==r&&E(r,0,r.length-1)):t.$text$!==i&&(n.data=i)},A=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((e=>t.$onRenderResolve$=e)))},$=(t,e)=>{if(t.$flags$|=16,!(4&t.$flags$))return A(t,t.$ancestorComponent$),et((()=>B(t,e)));t.$flags$|=512},B=(t,e)=>{const n=(t.$cmpMeta$.$tagName$,()=>{}),r=t.$lazyInstance$;return n(),U(void 0,(()=>T(t,r,e)))},T=async(t,e,n)=>{const r=t.$hostElement$,o=(t.$cmpMeta$.$tagName$,()=>{}),i=r["s-rc"];n&&(t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,o=(e.$tagName$,()=>{}),i=((t,e,n,r)=>{var o;let i=p(e);const s=K.get(i);if(t=11===t.nodeType?t:V,s)if("string"==typeof s){t=t.head||t;let e,n=d.get(t);if(n||d.set(t,n=new Set),!n.has(i)){{e=V.createElement("style"),e.innerHTML=s;const n=null!==(o=q.$nonce$)&&void 0!==o?o:c(V);null!=n&&e.setAttribute("nonce",n),t.insertBefore(e,t.querySelector("link"))}n&&n.add(i)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return i})(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&(n["s-sc"]=i,n.classList.add(i+"-h")),o()})(t);const s=(t.$cmpMeta$.$tagName$,()=>{});I(t,e),i&&(i.map((t=>t())),r["s-rc"]=void 0),s(),o();{const e=r["s-p"],n=()=>_(t);0===e.length?n():(Promise.all(e).then(n),t.$flags$|=4,e.length=0)}},I=(t,e,n)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,((t,e)=>{const n=t.$hostElement$,i=t.$vnode$||u(null,null),s=(a=e)&&a.$tag$===h?e:l(null,null,e);var a;o=n.tagName,s.$tag$=null,s.$flags$|=4,t.$vnode$=s,s.$elm$=i.$elm$=n.shadowRoot||n,r=n["s-sc"],x(i,s)})(t,e)}catch(e){j(e,t.$hostElement$)}return null},_=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,n=t.$ancestorComponent$;64&t.$flags$||(t.$flags$|=64,C(e),t.$onReadyResolve$(e),n||k()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&tt((()=>$(t,!1))),t.$flags$&=-517},k=t=>{C(V.documentElement),tt((()=>((t,e,n)=>{const r=q.ce("appload",{detail:{namespace:"connect-ui"}});return t.dispatchEvent(r),r})(z)))},U=(t,e)=>t&&t.then?t.then(e):e(),C=t=>t.classList.add("hydrated"),O=(t,e,n)=>{if(e.$members$){const r=Object.entries(e.$members$),o=t.prototype;r.map((([t,[e]])=>{(31&e||2&n&&32&e)&&Object.defineProperty(o,t,{get(){return e=t,N(this).$instanceValues$.get(e);var e},set(e){((t,e,n,r)=>{const o=N(t),i=o.$instanceValues$.get(e),s=o.$flags$,c=o.$lazyInstance$;var l;null==(l=n)||a(l),n=l;const u=Number.isNaN(i)&&Number.isNaN(n);8&s&&void 0!==i||n===i||u||(o.$instanceValues$.set(e,n),c&&2==(18&s)&&$(o,!1))})(this,t,e)},configurable:!0,enumerable:!0})}))}return t},P=(t,e={})=>{var n;const r=[],o=e.exclude||[],i=z.customElements,s=V.head,a=s.querySelector("meta[charset]"),l=V.createElement("style"),u=[];let h,f=!0;Object.assign(q,e),q.$resourcesUrl$=new URL(e.resourcesUrl||"./",V.baseURI).href,t.map((t=>{t[1].map((e=>{const n={$flags$:e[0],$tagName$:e[1],$members$:e[2],$listeners$:e[3]};n.$members$=e[2];const s=n.$tagName$,a=class extends HTMLElement{constructor(t){super(t),L(t=this,n),1&n.$flags$&&t.attachShadow({mode:"open"})}connectedCallback(){h&&(clearTimeout(h),h=null),f?u.push(this):q.jmp((()=>(t=>{if(0==(1&q.$flags$)){const e=N(t),n=e.$cmpMeta$,r=(n.$tagName$,()=>{});if(!(1&e.$flags$)){e.$flags$|=1;{let n=t;for(;n=n.parentNode||n.host;)if(n["s-p"]){A(e,e.$ancestorComponent$=n);break}}n.$members$&&Object.entries(n.$members$).map((([e,[n]])=>{if(31&n&&t.hasOwnProperty(e)){const n=t[e];delete t[e],t[e]=n}})),(async(t,e,n,r,o)=>{if(0==(32&e.$flags$)){{if(e.$flags$|=32,(o=F(n)).then){const t=()=>{};o=await o,t()}o.isProxied||(O(o,n,2),o.isProxied=!0);const t=(n.$tagName$,()=>{});e.$flags$|=8;try{new o(e)}catch(t){j(t)}e.$flags$&=-9,t()}if(o.style){let t=o.style;const e=p(n);if(!K.has(e)){const r=(n.$tagName$,()=>{});((t,e,n)=>{let r=K.get(t);W&&n?(r=r||new CSSStyleSheet,"string"==typeof r?r=e:r.replaceSync(e)):r=e,K.set(t,r)})(e,t,!!(1&n.$flags$)),r()}}}const i=e.$ancestorComponent$,s=()=>$(e,!0);i&&i["s-rc"]?i["s-rc"].push(s):s()})(0,e,n)}r()}})(this)))}disconnectedCallback(){q.jmp((()=>(this,void(0==(1&q.$flags$)&&N(this)))))}componentOnReady(){return N(this).$onReadyPromise$}};n.$lazyBundleId$=t[0],o.includes(s)||i.get(s)||(r.push(s),i.define(s,O(a,n,1)))}))}));{l.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",l.setAttribute("data-styles","");const t=null!==(n=q.$nonce$)&&void 0!==n?n:c(V);null!=t&&l.setAttribute("nonce",t),s.insertBefore(l,a?a.nextSibling:s.firstChild)}f=!1,u.length?u.map((t=>t.connectedCallback())):q.jmp((()=>h=setTimeout(k,30)))},H=new WeakMap,N=t=>H.get(t),R=(t,e)=>H.set(e.$lazyInstance$=t,e),L=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.$onReadyPromise$=new Promise((t=>n.$onReadyResolve$=t)),t["s-p"]=[],t["s-rc"]=[],H.set(t,n)},D=(t,e)=>e in t,j=(t,e)=>(0,console.error)(t,e),M=new Map,F=(t,e,r)=>{const o=t.$tagName$.replace(/-/g,"_"),i=t.$lazyBundleId$,s=M.get(i);if(s)return s[o];if(!r||!BUILD.hotModuleReplacement){const t=t=>(M.set(i,t),t[o]);if("connect-modal"===i)return n.e(506).then(n.bind(n,506)).then(t,j)}return n(993)(`./${i}.entry.js`).then((t=>(M.set(i,t),t[o])),j)},K=new Map,z="undefined"!=typeof window?window:{},V=z.document||{head:{}},q={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},G=t=>Promise.resolve(t),W=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(t){}return!1})(),J=[],Z=[],X=(t,e)=>n=>{t.push(n),i||(i=!0,e&&4&q.$flags$?tt(Q):q.raf(Q))},Y=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(t){j(t)}t.length=0},Q=()=>{Y(J),Y(Z),(i=J.length>0)&&q.raf(Q)},tt=t=>G().then(t),et=X(Z,!0)},993:(t,e,n)=>{var r={"./connect-modal.entry.js":[506,506]};function o(t){if(!n.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],o=e[0];return n.e(e[1]).then((()=>n(o)))}o.keys=()=>Object.keys(r),o.id=993,t.exports=o},162:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(255!==e[i])throw new TypeError(o+" is ambiguous");e[i]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,o=0;t[n]===a;)r++,n++;for(var i=(t.length-n)*c+1>>>0,l=new Uint8Array(i);t[n];){var u=e[t.charCodeAt(n)];if(255===u)return;for(var h=0,f=i-1;(0!==u||h<o)&&-1!==f;f--,h++)u+=s*l[f]>>>0,l[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=h,n++}for(var d=i-o;d!==i&&0===l[d];)d++;for(var p=new Uint8Array(r+(i-d)),y=r;d!==i;)p[y++]=l[d++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,o=0,i=e.length;o!==i&&0===e[o];)o++,n++;for(var c=(i-o)*l+1>>>0,u=new Uint8Array(c);o!==i;){for(var h=e[o],f=0,d=c-1;(0!==h||f<r)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");r=f,o++}for(var p=c-r;p!==c&&0===u[p];)p++;for(var y=a.repeat(n);p<c;++p)y+=t.charAt(u[p]);return y},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=a(t),s=i[0],c=i[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),u=0,h=c>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],s=16383,a=0,l=r-o;a<l;a+=s)i.push(c(t,a,a+s>l?l:a+s));return 1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var o,i,s=[],a=e;a<r;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},191:(t,e,n)=>{const r=n(162);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},105:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const r=n(207),o=n(189),i=n(89);e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;const a={};function c(t,e){if(!e.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,r.c32checkEncode)(t,e)}`}function l(t){if(t.length<=5)throw new Error("Invalid c32 address: invalid length");if("S"!=t[0])throw new Error('Invalid c32 address: must start with "S"');return(0,r.c32checkDecode)(t.slice(1))}a[e.versions.mainnet.p2pkh]=0,a[e.versions.mainnet.p2sh]=5,a[e.versions.testnet.p2pkh]=111,a[e.versions.testnet.p2sh]=196,e.c32address=c,e.c32addressDecode=l,e.b58ToC32=function(t,e=-1){const n=o.decode(t),r=(0,i.bytesToHex)(n.data),a=parseInt((0,i.bytesToHex)(n.prefix),16);let l;return e<0?(l=a,void 0!==s[a]&&(l=s[a])):l=e,c(l,r)},e.c32ToB58=function(t,e=-1){const n=l(t),r=n[0],i=n[1];let s;e<0?(s=r,void 0!==a[r]&&(s=a[r])):s=e;let c=s.toString(16);return 1===c.length&&(c=`0${c}`),o.encode(i,c)}},189:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const r=n(61),o=n(89),i=n(162),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.encode=function(t,e="00"){const n="string"==typeof t?(0,o.hexToBytes)(t):t,a="string"==typeof e?(0,o.hexToBytes)(e):t;if(!(n instanceof Uint8Array&&a instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const c=(0,r.sha256)((0,r.sha256)(new Uint8Array([...a,...n])));return i(s).encode([...a,...n,...c.slice(0,4)])},e.decode=function(t){const e=i(s).decode(t),n=e.slice(0,1),o=e.slice(1,-4),a=(0,r.sha256)((0,r.sha256)(new Uint8Array([...n,...o])));return e.slice(-4).forEach(((t,e)=>{if(t!==a[e])throw new Error("Invalid checksum")})),{prefix:n,data:o}}},207:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32checkDecode=e.c32checkEncode=void 0;const r=n(61),o=n(89),i=n(495);function s(t){const e=(0,r.sha256)((0,r.sha256)((0,o.hexToBytes)(t)));return(0,o.bytesToHex)(e.slice(0,4))}e.c32checkEncode=function(t,e){if(t<0||t>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");(e=e.toLowerCase()).length%2!=0&&(e=`0${e}`);let n=t.toString(16);1===n.length&&(n=`0${n}`);const r=s(`${n}${e}`),o=(0,i.c32encode)(`${e}${r}`);return`${i.c32[t]}${o}`},e.c32checkDecode=function(t){t=(0,i.c32normalize)(t);const e=(0,i.c32decode)(t.slice(1)),n=t[0],r=i.c32.indexOf(n),o=e.slice(-8);let a=r.toString(16);if(1===a.length&&(a=`0${a}`),s(`${a}${e.substring(0,e.length-8)}`)!==o)throw new Error("Invalid c32check string: checksum mismatch");return[r,e.substring(0,e.length-8)]}},495:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const r=n(89);e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const o="0123456789abcdef";function i(t){return t.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32encode=function(t,n){if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");t.length%2!=0&&(t=`0${t}`);let i=[],s=0;for(let n=(t=t.toLowerCase()).length-1;n>=0;n--)if(s<4){const r=o.indexOf(t[n])>>s;let a=0;0!==n&&(a=o.indexOf(t[n-1]));const c=1+s,l=a%(1<<c)<<5-c,u=e.c32[r+l];s=c,i.unshift(u)}else s=0;let a=0;for(let t=0;t<i.length&&"0"===i[t];t++)a++;i=i.slice(a);const c=(new TextDecoder).decode((0,r.hexToBytes)(t)).match(/^\u0000*/),l=c?c[0].length:0;for(let t=0;t<l;t++)i.unshift(e.c32[0]);if(n){const t=n-i.length;for(let n=0;n<t;n++)i.unshift(e.c32[0])}return i.join("")},e.c32normalize=i,e.c32decode=function(t,n){if(!(t=i(t)).match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const r=t.match(`^${e.c32[0]}*`),s=r?r[0].length:0;let a=[],c=0,l=0;for(let n=t.length-1;n>=0;n--){4===l&&(a.unshift(o[c]),l=0,c=0);const r=(e.c32.indexOf(t[n])<<l)+c,i=o[r%16];if(l+=1,c=r>>4,c>1<<l)throw new Error("Panic error in decoding.");a.unshift(i)}a.unshift(o[c]),a.length%2==1&&a.unshift("0");let u=0;for(let t=0;t<a.length&&"0"===a[t];t++)u++;a=a.slice(u-u%2);let h=a.join("");for(let t=0;t<s;t++)h=`00${h}`;if(n){const t=2*n-h.length;for(let e=0;e<t;e+=2)h=`00${h}`}return h}},701:(t,e,n)=>{"use strict";e.H4=void 0;n(495),n(207);const r=n(105);Object.defineProperty(e,"H4",{enumerable:!0,get:function(){return r.c32address}})},905:function(){!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function y(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=p(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=l(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[l(t)]},f.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},f.prototype.set=function(t,e){this.map[l(t)]=u(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),h(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),h(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var n,r,o=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function E(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},w.call(b.prototype),w.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];E.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(r,i){var s=new b(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new E(o,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=f,t.Request=b,t.Response=E),e.Headers=f,e.Request=b,e.Response=E,e.fetch=x,Object.defineProperty(e,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},764:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=e.unescape=e.escape=e.pad=void 0;const r=n(742);function o(t){return`${t}${"=".repeat(4-(t.length%4||4))}`}function i(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(t){return o(t).replace(/-/g,"+").replace(/_/g,"/")}e.pad=o,e.escape=i,e.unescape=s,e.encode=function(t){return i((0,r.fromByteArray)((new TextEncoder).encode(t)))},e.decode=function(t){return(new TextDecoder).decode((0,r.toByteArray)(o(s(t))))}},803:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoClients=e.SECP256K1Client=void 0;const r=n(118);Object.defineProperty(e,"SECP256K1Client",{enumerable:!0,get:function(){return r.SECP256K1Client}});const o={ES256K:r.SECP256K1Client};e.cryptoClients=o},118:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SECP256K1Client=void 0;const r=n(569),o=n(61),i=n(656),s=n(563),a=n(581),c=n(89);i.utils.hmacSha256Sync=(t,...e)=>{const n=r.hmac.create(o.sha256,t);return e.forEach((t=>n.update(t))),n.digest()};class l{static derivePublicKey(t,e=!0){return 66===t.length&&(t=t.slice(0,64)),t.length<64&&(t=t.padStart(64,"0")),(0,c.bytesToHex)(i.getPublicKey(t,e))}static signHash(t,e,n="jose"){if(!t||!e)throw new a.MissingParametersError("a signing input hash and private key are all required");const r=i.signSync(t,e.slice(0,64),{der:!0,canonical:!1});if("der"===n)return(0,c.bytesToHex)(r);if("jose"===n)return(0,s.derToJose)(r,"ES256");throw Error("Invalid signature format")}static loadSignature(t){return(0,s.joseToDer)(t,"ES256")}static verifyHash(t,e,n){if(!t||!e||!n)throw new a.MissingParametersError("a signing input hash, der signature, and public key are all required");return i.verify(e,t,n,{strict:!1})}}e.SECP256K1Client=l,l.algorithmName="ES256K"},674:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.hashSha256Async=e.hashSha256=void 0;const o=n(61);function i(t){return(0,o.sha256)(t)}e.hashSha256=i,e.hashSha256Async=function(t){return r(this,void 0,void 0,(function*(){try{if("undefined"!=typeof crypto&&void 0!==crypto.subtle){const e="string"==typeof t?(new TextEncoder).encode(t):t,n=yield crypto.subtle.digest("SHA-256",e);return new Uint8Array(n)}{const e=n(971);if(!e.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(e.createHash("sha256").update(t).digest())}}catch(e){return console.log(e),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(i(t))}}))}},891:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeToken=void 0;const r=n(764);e.decodeToken=function(t){if("string"==typeof t){const e=t.split(".");return{header:JSON.parse(r.decode(e[0])),payload:JSON.parse(r.decode(e[1])),signature:e[2]}}if("object"==typeof t){if("string"!=typeof t.payload)throw new Error("Expected token payload to be a base64 or json string");let e=t.payload;"{"!==t.payload[0]&&(e=r.decode(e));const n=[];return t.header.map((t=>{const e=JSON.parse(r.decode(t));n.push(e)})),{header:n,payload:JSON.parse(e),signature:t.signature}}}},563:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joseToDer=e.derToJose=void 0;const r=n(742),o=n(764);function i(t){return(t/8|0)+(t%8==0?0:1)}const s={ES256:i(256),ES384:i(384),ES512:i(521)};function a(t){const e=s[t];if(e)return e;throw new Error(`Unknown algorithm "${t}"`)}const c=128;function l(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return(0,r.toByteArray)((0,o.pad)(t));throw new TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function u(t,e,n){let r=0;for(;e+r<n&&0===t[e+r];)++r;return t[e+r]>=c&&--r,r}e.derToJose=function(t,e){const n=l(t),i=a(e),s=i+1,c=n.length;let u=0;if(48!==n[u++])throw new Error('Could not find expected "seq"');let h=n[u++];if(129===h&&(h=n[u++]),c-u<h)throw new Error(`"seq" specified length of "${h}", only "${c-u}" remaining`);if(2!==n[u++])throw new Error('Could not find expected "int" for "r"');const f=n[u++];if(c-u-2<f)throw new Error(`"r" specified length of "${f}", only "${c-u-2}" available`);if(s<f)throw new Error(`"r" specified length of "${f}", max of "${s}" is acceptable`);const d=u;if(u+=f,2!==n[u++])throw new Error('Could not find expected "int" for "s"');const p=n[u++];if(c-u!==p)throw new Error(`"s" specified length of "${p}", expected "${c-u}"`);if(s<p)throw new Error(`"s" specified length of "${p}", max of "${s}" is acceptable`);const y=u;if(u+=p,u!==c)throw new Error(`Expected to consume entire array, but "${c-u}" bytes remain`);const g=i-f,w=i-p,m=new Uint8Array(g+f+w+p);for(u=0;u<g;++u)m[u]=0;m.set(n.subarray(d+Math.max(-g,0),d+f),u),u=i;for(const t=u;u<t+w;++u)m[u]=0;return m.set(n.subarray(y+Math.max(-w,0),y+p),u),(0,o.escape)((0,r.fromByteArray)(m))},e.joseToDer=function(t,e){t=l(t);const n=a(e),r=t.length;if(r!==2*n)throw new TypeError(`"${e}" signatures must be "${2*n}" bytes, saw "${r}"`);const o=u(t,0,n),i=u(t,n,t.length),s=n-o,h=n-i,f=2+s+1+1+h,d=f<c,p=new Uint8Array((d?2:3)+f);let y=0;return p[y++]=48,d?p[y++]=f:(p[y++]=129,p[y++]=255&f),p[y++]=2,p[y++]=s,o<0?(p[y++]=0,p.set(t.subarray(0,n),y),y+=n):(p.set(t.subarray(o,n),y),y+=n-o),p[y++]=2,p[y++]=h,i<0?(p[y++]=0,p.set(t.subarray(n),y)):p.set(t.subarray(n+i),y),p}},581:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidTokenError=e.MissingParametersError=void 0;class n extends Error{constructor(t){super(),this.name="MissingParametersError",this.message=t||""}}e.MissingParametersError=n;class r extends Error{constructor(t){super(),this.name="InvalidTokenError",this.message=t||""}}e.InvalidTokenError=r},80:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(298),e),o(n(523),e),o(n(891),e),o(n(581),e),o(n(803),e)},298:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.TokenSigner=e.createUnsecuredToken=void 0;const o=n(764),i=n(803),s=n(581),a=n(674);function c(t,e){const n=[],r=o.encode(JSON.stringify(e));n.push(r);const i=o.encode(JSON.stringify(t));return n.push(i),n.join(".")}e.createUnsecuredToken=function(t){return c(t,{typ:"JWT",alg:"none"})+"."},e.TokenSigner=class{constructor(t,e){if(!t||!e)throw new s.MissingParametersError("a signing algorithm and private key are required");if("string"!=typeof t)throw new Error("signing algorithm parameter must be a string");if(t=t.toUpperCase(),!i.cryptoClients.hasOwnProperty(t))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=i.cryptoClients[t],this.rawPrivateKey=e}header(t={}){const e={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},e,t)}sign(t,e=!1,n={}){const r=this.header(n),o=c(t,r),i=(0,a.hashSha256)(o);return this.createWithSignedHash(t,e,r,o,i)}signAsync(t,e=!1,n={}){return r(this,void 0,void 0,(function*(){const r=this.header(n),o=c(t,r),i=yield(0,a.hashSha256Async)(o);return this.createWithSignedHash(t,e,r,o,i)}))}createWithSignedHash(t,e,n,r,i){const s=this.cryptoClient.signHash(i,this.rawPrivateKey);return e?{header:[o.encode(JSON.stringify(n))],payload:JSON.stringify(t),signature:[s]}:[r,s].join(".")}}},523:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenVerifier=void 0;const r=n(764),o=n(803),i=n(581),s=n(674);e.TokenVerifier=class{constructor(t,e){if(!t||!e)throw new i.MissingParametersError("a signing algorithm and public key are required");if("string"!=typeof t)throw"signing algorithm parameter must be a string";if(t=t.toUpperCase(),!o.cryptoClients.hasOwnProperty(t))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=o.cryptoClients[t],this.rawPublicKey=e}verify(t){return"string"==typeof t?this.verifyCompact(t,!1):"object"==typeof t&&this.verifyExpanded(t,!1)}verifyAsync(t){return"string"==typeof t?this.verifyCompact(t,!0):"object"==typeof t?this.verifyExpanded(t,!0):Promise.resolve(!1)}verifyCompact(t,e){const n=t.split("."),r=n[0]+"."+n[1],o=t=>{const e=this.cryptoClient.loadSignature(n[2]);return this.cryptoClient.verifyHash(t,e,this.rawPublicKey)};if(e)return(0,s.hashSha256Async)(r).then((t=>o(t)));{const t=(0,s.hashSha256)(r);return o(t)}}verifyExpanded(t,e){const n=[t.header.join("."),r.encode(t.payload)].join(".");let o=!0;const i=e=>(t.signature.map((t=>{const n=this.cryptoClient.loadSignature(t);this.cryptoClient.verifyHash(e,n,this.rawPublicKey)||(o=!1)})),o);if(e)return(0,s.hashSha256Async)(n).then((t=>i(t)));{const t=(0,s.hashSha256)(n);return i(t)}}}},465:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",l="[object GeneratorFunction]",u="[object Map]",h="[object Number]",f="[object Object]",d="[object Promise]",p="[object RegExp]",y="[object Set]",g="[object String]",w="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",v="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",$="[object Int32Array]",B="[object Uint8Array]",T="[object Uint8ClampedArray]",I="[object Uint16Array]",_="[object Uint32Array]",k=/\w*$/,U=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,O={};O[i]=O["[object Array]"]=O[b]=O[v]=O[s]=O[a]=O[E]=O[S]=O[x]=O[A]=O[$]=O[u]=O[h]=O[f]=O[p]=O[y]=O[g]=O[w]=O[B]=O[T]=O[I]=O[_]=!0,O["[object Error]"]=O[c]=O[m]=!1;var P="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,H="object"==typeof self&&self&&self.Object===Object&&self,N=P||H||Function("return this")(),R=e&&!e.nodeType&&e,L=R&&t&&!t.nodeType&&t,D=L&&L.exports===R;function j(t,e){return t.set(e[0],e[1]),t}function M(t,e){return t.add(e),t}function F(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function K(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function V(t,e){return function(n){return t(e(n))}}function q(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var G,W=Array.prototype,J=Function.prototype,Z=Object.prototype,X=N["__core-js_shared__"],Y=(G=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Q=J.toString,tt=Z.hasOwnProperty,et=Z.toString,nt=RegExp("^"+Q.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=D?N.Buffer:void 0,ot=N.Symbol,it=N.Uint8Array,st=V(Object.getPrototypeOf,Object),at=Object.create,ct=Z.propertyIsEnumerable,lt=W.splice,ut=Object.getOwnPropertySymbols,ht=rt?rt.isBuffer:void 0,ft=V(Object.keys,Object),dt=Nt(N,"DataView"),pt=Nt(N,"Map"),yt=Nt(N,"Promise"),gt=Nt(N,"Set"),wt=Nt(N,"WeakMap"),mt=Nt(Object,"create"),bt=Mt(dt),vt=Mt(pt),Et=Mt(yt),St=Mt(gt),xt=Mt(wt),At=ot?ot.prototype:void 0,$t=At?At.valueOf:void 0;function Bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){this.__data__=new Tt(t)}function kt(t,e,n){var r=t[e];tt.call(t,e)&&Ft(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ut(t,e){for(var n=t.length;n--;)if(Ft(t[n][0],e))return n;return-1}function Ct(t,e,n,r,o,d,m){var U;if(r&&(U=d?r(t,o,d,m):r(t)),void 0!==U)return U;if(!Gt(t))return t;var C=Kt(t);if(C){if(U=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,U)}else{var P=Lt(t),H=P==c||P==l;if(Vt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(P==f||P==i||H&&!d){if(K(t))return d?t:{};if(U=function(t){return"function"!=typeof t.constructor||jt(t)?{}:Gt(e=st(t))?at(e):{};var e}(H?{}:t),!e)return function(t,e){return Pt(t,Rt(t),e)}(t,function(t,e){return t&&Pt(e,Wt(e),t)}(U,t))}else{if(!O[P])return d?t:{};U=function(t,e,n,r){var o,i=t.constructor;switch(e){case b:return Ot(t);case s:case a:return new i(+t);case v:return function(t,e){var n=e?Ot(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case E:case S:case x:case A:case $:case B:case T:case I:case _:return function(t,e){var n=e?Ot(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case u:return function(t,e,n){return F(e?n(z(t),!0):z(t),j,new t.constructor)}(t,r,n);case h:case g:return new i(t);case p:return function(t){var e=new t.constructor(t.source,k.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return function(t,e,n){return F(e?n(q(t),!0):q(t),M,new t.constructor)}(t,r,n);case w:return o=t,$t?Object($t.call(o)):{}}}(t,P,Ct,e)}}m||(m=new _t);var N=m.get(t);if(N)return N;if(m.set(t,U),!C)var R=n?function(t){return function(t,e,n){var r=e(t);return Kt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Wt,Rt)}(t):Wt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n););}(R||t,(function(o,i){R&&(o=t[i=o]),kt(U,i,Ct(o,e,n,r,i,t,m))})),U}function Ot(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Pt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var s=e[o],a=r?r(n[s],t[s],s,n,t):void 0;kt(n,s,void 0===a?t[s]:a)}return n}function Ht(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Gt(t)||(e=t,Y&&Y in e))&&(qt(t)||K(t)?nt:U).test(Mt(t));var e}(n)?n:void 0}Bt.prototype.clear=function(){this.__data__=mt?mt(null):{}},Bt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Bt.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},Bt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:tt.call(e,t)},Bt.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?r:e,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(t){var e=this.__data__,n=Ut(e,t);return!(n<0||(n==e.length-1?e.pop():lt.call(e,n,1),0))},Tt.prototype.get=function(t){var e=this.__data__,n=Ut(e,t);return n<0?void 0:e[n][1]},Tt.prototype.has=function(t){return Ut(this.__data__,t)>-1},Tt.prototype.set=function(t,e){var n=this.__data__,r=Ut(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},It.prototype.clear=function(){this.__data__={hash:new Bt,map:new(pt||Tt),string:new Bt}},It.prototype.delete=function(t){return Ht(this,t).delete(t)},It.prototype.get=function(t){return Ht(this,t).get(t)},It.prototype.has=function(t){return Ht(this,t).has(t)},It.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},_t.prototype.clear=function(){this.__data__=new Tt},_t.prototype.delete=function(t){return this.__data__.delete(t)},_t.prototype.get=function(t){return this.__data__.get(t)},_t.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Tt){var r=n.__data__;if(!pt||r.length<199)return r.push([t,e]),this;n=this.__data__=new It(r)}return n.set(t,e),this};var Rt=ut?V(ut,Object):function(){return[]},Lt=function(t){return et.call(t)};function Dt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function jt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Z)}function Mt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ft(t,e){return t===e||t!=t&&e!=e}(dt&&Lt(new dt(new ArrayBuffer(1)))!=v||pt&&Lt(new pt)!=u||yt&&Lt(yt.resolve())!=d||gt&&Lt(new gt)!=y||wt&&Lt(new wt)!=m)&&(Lt=function(t){var e=et.call(t),n=e==f?t.constructor:void 0,r=n?Mt(n):void 0;if(r)switch(r){case bt:return v;case vt:return u;case Et:return d;case St:return y;case xt:return m}return e});var Kt=Array.isArray;function zt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!qt(t)}var Vt=ht||function(){return!1};function qt(t){var e=Gt(t)?et.call(t):"";return e==c||e==l}function Gt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Wt(t){return zt(t)?function(t,e){var n=Kt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&zt(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var s in t)!e&&!tt.call(t,s)||o&&("length"==s||Dt(s,r))||n.push(s);return n}(t):function(t){if(!jt(t))return ft(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Ct(t,!0,!0)}},856:()=>{},159:()=>{},859:()=>{},971:()=>{}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={id:t,loaded:!1,exports:{}};return o[t].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var i={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>n[t]));return i.default=()=>n,s.d(o,i),o},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,n)=>(s.f[n](t,e),e)),[])),s.u=t=>t+".bundle.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},r="stacks-login:",s.l=(t,e,o,i)=>{if(n[t])n[t].push(e);else{var a,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==r+o){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",r+o),a.src=t),n[t]=[e];var f=(e,r)=>{a.onerror=a.onload=null,clearTimeout(d);var o=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(r))),e)return e(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),s.p="/",(()=>{var t={179:0};s.f.j=(e,n)=>{var r=s.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=t[e]=[n,o]));n.push(r[2]=o);var i=s.p+s.u(e),a=new Error;s.l(i,(n=>{if(s.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,o,[i,a,c]=n,l=0;if(i.some((e=>0!==t[e]))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);c&&c(s)}for(e&&e(n);l<i.length;l++)o=i[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkstacks_login=self.webpackChunkstacks_login||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";const t={"@type":"Person","@context":"http://schema.org"},e=["store_write"],n=["debug","info","warn","error","none"],r={},o={};for(let t=0;t<n.length;t++){const e=n[t];r[e]=t,o[t]=e}class i{static error(t){this.shouldLog("error")&&console.error(this.logMessage("error",t))}static warn(t){this.shouldLog("warn")&&console.warn(this.logMessage("warn",t))}static info(t){this.shouldLog("info")&&console.log(this.logMessage("info",t))}static debug(t){this.shouldLog("debug")&&console.log(this.logMessage("debug",t))}static logMessage(t,e){return`[${t.toUpperCase()}] ${e}`}static shouldLog(t){return r.debug<=r[t]}}function a(t,e){void 0!==t&&""!==t||(t="0.0.0"),void 0!==e&&""!==t||(e="0.0.0");const n=t.split(".").map((t=>parseInt(t,10))),r=e.split(".").map((t=>parseInt(t,10)));for(let o=0;o<e.length;o++)if(o>=t.length&&r.push(0),n[o]<r[o])return!1;return!0}function c(){let t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}function l(t,{throwIfUnavailable:e,usageDesc:n,returnEmptyObject:r}={}){let o;try{if(o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==s.g)return s.g;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}(),o){const e=o[t];if(e)return e}}catch(e){i.error(`Error getting object '${t}' from global scope '${o}': ${e}`)}if(e){const e=function(t,e,n){return n?`Use of '${n}' requires \`${e}\` which is unavailable on the '${t}' object within the currently executing environment.`:`\`${e}\` is unavailable on the '${t}' object within the currently executing environment.`}(o,t.toString(),n);throw i.error(e),new Error(e)}if(r)return{}}const u=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function h(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(const n of t)e+=u[n];return e}function f(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);const e=t.length%2?`0${t}`:t,n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[t]=i}return n}function d(t){return(new TextEncoder).encode(t)}function p(t){return(new TextDecoder).decode(t)}function y(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}class g{constructor(t=e.slice(),n=l("location",{returnEmptyObject:!0})?.origin,r="",o="/manifest.json",i=void 0,s="https://browser.blockstack.org/auth"){this.appDomain=n,this.scopes=t,this.redirectPath=r,this.manifestPath=o,this.coreNode=i,this.authenticatorURL=s}redirectURI(){return`${this.appDomain}${this.redirectPath}`}manifestURI(){return`${this.appDomain}${this.manifestPath}`}}const w={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(w);class m extends Error{constructor(t){super();let e=t.message,n=`Error Code: ${t.code}`,r=this.stack;if(r)n+=`Stack Trace:\n${r}`;else try{throw new Error}catch(t){r=t.stack}e+=`\nIf you believe this exception is caused by a bug in stacks.js,\n      please file a bug report: https://github.com/blockstack/stacks.js/issues\n\n${n}`,this.message=e,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}\n    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class b extends m{constructor(t,e=""){super({code:w.MISSING_PARAMETER,message:e,parameter:t}),this.name="MissingParametersError"}}class v extends m{constructor(t=""){super({code:w.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}}class E extends m{constructor(t){const e=`Failed to login: ${t}`;super({code:w.LOGIN_FAILED_ERROR,message:e}),this.message=e,this.name="LoginFailedError"}}class S extends m{constructor(t="Unable to decrypt cipher object."){super({code:w.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}}class x extends m{constructor(t){super({code:w.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}}class A extends m{constructor(t){super({code:w.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}}const $="1.0.0";class B{constructor(t){this.version=$,this.userData=t.userData,this.transitKey=t.transitKey,this.etags=t.etags?t.etags:{}}static fromJSON(t){if(t.version!==$)throw new x(`JSON data version ${t.version} not supported by SessionData`);const e={coreNode:t.coreNode,userData:t.userData,transitKey:t.transitKey,etags:t.etags};return new B(e)}toString(){return JSON.stringify(this)}}class T{constructor(t){if(t){const e=new B(t);this.setSessionData(e)}}getSessionData(){throw new Error("Abstract class")}setSessionData(t){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}}class I extends T{constructor(t){super(t),this.sessionData||this.setSessionData(new B({}))}getSessionData(){if(!this.sessionData)throw new A("No session data was found.");return this.sessionData}setSessionData(t){return this.sessionData=t,!0}deleteSessionData(){return this.setSessionData(new B({})),!0}}class _ extends T{constructor(t){if(super(t),t&&t.storeOptions&&t.storeOptions.localStorageKey&&"string"==typeof t.storeOptions.localStorageKey?this.key=t.storeOptions.localStorageKey:this.key="blockstack-session",!localStorage.getItem(this.key)){const t=new B({});this.setSessionData(t)}}getSessionData(){const t=localStorage.getItem(this.key);if(!t)throw new A("No session data was found in localStorage");const e=JSON.parse(t);return B.fromJSON(e)}setSessionData(t){return localStorage.setItem(this.key,t.toString()),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData(new B({})),!0}}var k=s(80);function U(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function C(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const O={number:U,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:C,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");U(t.outputLen),U(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){C(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},P=("object"==typeof self&&"crypto"in self&&self.crypto,t=>new DataView(t.buffer,t.byteOffset,t.byteLength)),H=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function N(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));class R{clone(){return this._cloneInto()}}function L(t){const e=e=>t().update(N(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class D extends R{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,O.hash(t);const n=N(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?t.create().update(n).digest():n);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){return O.exists(this),this.iHash.update(t),this}digestInto(t){O.exists(this),O.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const j=(t,e,n)=>new D(t,e).update(n).digest();j.create=(t,e)=>new D(t,e);class M extends R{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=P(this.buffer)}update(t){O.exists(this);const{view:e,buffer:n,blockLen:r}=this,o=(t=N(t)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const e=P(t);for(;r<=o-i;i+=r)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){O.exists(this),O.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let t=i;t<r;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=P(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)s.setUint32(4*t,l[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=o,t.destroyed=i,r%e&&t.buffer.set(n),t}}const F=(t,e,n)=>t&e^t&n^e&n,K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),z=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),V=new Uint32Array(64);class q extends M{constructor(){super(64,32,8,!1),this.A=0|z[0],this.B=0|z[1],this.C=0|z[2],this.D=0|z[3],this.E=0|z[4],this.F=0|z[5],this.G=0|z[6],this.H=0|z[7]}get(){const{A:t,B:e,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[t,e,n,r,o,i,s,a]}set(t,e,n,r,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)V[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=V[t-15],n=V[t-2],r=H(e,7)^H(e,18)^e>>>3,o=H(n,17)^H(n,19)^n>>>10;V[t]=o+V[t-7]+r+V[t-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let t=0;t<64;t++){const e=l+(H(s,6)^H(s,11)^H(s,25))+((u=s)&a^~u&c)+K[t]+V[t]|0,h=(H(n,2)^H(n,13)^H(n,22))+F(n,r,o)|0;l=c,c=a,a=s,s=i+e|0,i=o,o=r,r=n,n=e+h|0}var u;n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,o,i,s,a,c,l)}roundClean(){V.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class G extends q{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const W=L((()=>new q));L((()=>new G));var J=s(856),Z=s.t(J,2);const X=BigInt(0),Y=BigInt(1),Q=BigInt(2),tt=BigInt(3),et=BigInt(8),nt=Object.freeze({a:X,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Y,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),rt=(t,e)=>(t+e/Q)/e,ot={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=nt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Y*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=rt(i*t,e),c=rt(-r*t,e);let l=Ct(t-a*n-c*o,e),u=Ct(-a*r-c*i,e);const h=l>s,f=u>s;if(h&&(l=e-l),f&&(u=e-u),l>s||u>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:l,k2neg:f,k2:u}}},it=32,st=32,at=it+1,ct=2*it+1;function lt(t){const{a:e,b:n}=nt,r=Ct(t*t),o=Ct(r*t);return Ct(o+e*t+n)}const ut=nt.a===X;class ht extends Error{constructor(t){super(t)}}function ft(t){if(!(t instanceof dt))throw new TypeError("JacobianPoint expected")}class dt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof gt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(gt.ZERO)?dt.ZERO:new dt(t.x,t.y,Y)}static toAffineBatch(t){const e=function(t,e=nt.P){const n=new Array(t.length),r=Pt(t.reduce(((t,r,o)=>r===X?t:(n[o]=t,Ct(t*r,e))),Y),e);return t.reduceRight(((t,r,o)=>r===X?t:(n[o]=Ct(t*n[o],e),Ct(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return dt.toAffineBatch(t).map(dt.fromAffine)}equals(t){ft(t);const{x:e,y:n,z:r}=this,{x:o,y:i,z:s}=t,a=Ct(r*r),c=Ct(s*s),l=Ct(e*c),u=Ct(o*a),h=Ct(Ct(n*s)*c),f=Ct(Ct(i*r)*a);return l===u&&h===f}negate(){return new dt(this.x,Ct(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=Ct(t*t),o=Ct(e*e),i=Ct(o*o),s=t+o,a=Ct(Q*(Ct(s*s)-r-i)),c=Ct(tt*r),l=Ct(c*c),u=Ct(l-Q*a),h=Ct(c*(a-u)-et*i),f=Ct(Q*e*n);return new dt(u,h,f)}add(t){ft(t);const{x:e,y:n,z:r}=this,{x:o,y:i,z:s}=t;if(o===X||i===X)return this;if(e===X||n===X)return t;const a=Ct(r*r),c=Ct(s*s),l=Ct(e*c),u=Ct(o*a),h=Ct(Ct(n*s)*c),f=Ct(Ct(i*r)*a),d=Ct(u-l),p=Ct(f-h);if(d===X)return p===X?this.double():dt.ZERO;const y=Ct(d*d),g=Ct(d*y),w=Ct(l*y),m=Ct(p*p-g-Q*w),b=Ct(p*(w-m)-h*g),v=Ct(r*s*d);return new dt(m,b,v)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=dt.ZERO;if("bigint"==typeof t&&t===X)return e;let n=Ut(t);if(n===Y)return this;if(!ut){let t=e,r=this;for(;n>X;)n&Y&&(t=t.add(r)),r=r.double(),n>>=Y;return t}let{k1neg:r,k1:o,k2neg:i,k2:s}=ot.splitScalar(n),a=e,c=e,l=this;for(;o>X||s>X;)o&Y&&(a=a.add(l)),s&Y&&(c=c.add(l)),l=l.double(),o>>=Y,s>>=Y;return r&&(a=a.negate()),i&&(c=c.negate()),c=new dt(Ct(c.x*ot.beta),c.y,c.z),a.add(c)}precomputeWindow(t){const e=ut?128/t+1:256/t+1,n=[];let r=this,o=r;for(let i=0;i<e;i++){o=r,n.push(o);for(let e=1;e<2**(t-1);e++)o=o.add(r),n.push(o);r=o.double()}return n}wNAF(t,e){!e&&this.equals(dt.BASE)&&(e=gt.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&yt.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=dt.normalizeZ(r),yt.set(e,r)));let o=dt.ZERO,i=dt.BASE;const s=1+(ut?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let s=Number(t&c);t>>=u,s>a&&(s-=l,t+=Y);const h=n,f=n+Math.abs(s)-1,d=e%2!=0,p=s<0;0===s?i=i.add(pt(d,r[h])):o=o.add(pt(p,r[f]))}return{p:o,f:i}}multiply(t,e){let n,r,o=Ut(t);if(ut){const{k1neg:t,k1:i,k2neg:s,k2:a}=ot.splitScalar(o);let{p:c,f:l}=this.wNAF(i,e),{p:u,f:h}=this.wNAF(a,e);c=pt(t,c),u=pt(s,u),u=new dt(Ct(u.x*ot.beta),u.y,u.z),n=c.add(u),r=l.add(h)}else{const{p:t,f:i}=this.wNAF(o,e);n=t,r=i}return dt.normalizeZ([n,r])[0]}toAffine(t){const{x:e,y:n,z:r}=this,o=this.equals(dt.ZERO);null==t&&(t=o?et:Pt(r));const i=t,s=Ct(i*i),a=Ct(s*i),c=Ct(e*s),l=Ct(n*a),u=Ct(r*i);if(o)return gt.ZERO;if(u!==Y)throw new Error("invZ was invalid");return new gt(c,l)}}function pt(t,e){const n=e.negate();return t?n:e}dt.BASE=new dt(nt.Gx,nt.Gy,Y),dt.ZERO=new dt(X,Y,X);const yt=new WeakMap;class gt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,yt.delete(this)}hasEvenY(){return this.y%Q===X}static fromCompressedHex(t){const e=32===t.length,n=_t(e?t:t.subarray(1));if(!jt(n))throw new Error("Point is not on curve");let r=function(t){const{P:e}=nt,n=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,l=c*c*t%e,u=Ot(l,tt)*l%e,h=Ot(u,tt)*l%e,f=Ot(h,Q)*c%e,d=Ot(f,r)*f%e,p=Ot(d,o)*d%e,y=Ot(p,s)*p%e,g=Ot(y,a)*y%e,w=Ot(g,s)*p%e,m=Ot(w,tt)*l%e,b=Ot(m,i)*d%e,v=Ot(b,n)*c%e,E=Ot(v,Q);if(E*E%e!==t)throw new Error("Cannot find square root");return E}(lt(n));const o=(r&Y)===Y;e?o&&(r=Ct(-r)):1==(1&t[0])!==o&&(r=Ct(-r));const i=new gt(n,r);return i.assertValidity(),i}static fromUncompressedHex(t){const e=_t(t.subarray(1,it+1)),n=_t(t.subarray(it+1,2*it+1)),r=new gt(e,n);return r.assertValidity(),r}static fromHex(t){const e=kt(t),n=e.length,r=e[0];if(n===it)return this.fromCompressedHex(e);if(n===at&&(2===r||3===r))return this.fromCompressedHex(e);if(n===ct&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${at} compressed bytes or ${ct} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return gt.BASE.multiply(Ft(t))}static fromSignature(t,e,n){const{r,s:o}=function(t){if(t instanceof bt)return t.assertValidity(),t;try{return bt.fromDER(t)}catch(e){return bt.fromCompact(t)}}(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const i=Ht(kt(t)),{n:s}=nt,a=2===n||3===n?r+s:r,c=Pt(a,s),l=Ct(-i*c,s),u=Ct(o*c,s),h=1&n?"03":"02",f=gt.fromHex(h+At(a)),d=gt.BASE.multiplyAndAddUnsafe(f,l,u);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return It(this.toHex(t))}toHex(t=!1){const e=At(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${At(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!jt(e)||!jt(n))throw new Error(t);const r=Ct(n*n);if(Ct(r-lt(e))!==X)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new gt(this.x,Ct(-this.y))}double(){return dt.fromAffine(this).double().toAffine()}add(t){return dt.fromAffine(this).add(dt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return dt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=dt.fromAffine(this),o=e===X||e===Y||this!==gt.BASE?r.multiplyUnsafe(e):r.multiply(e),i=dt.fromAffine(t).multiplyUnsafe(n),s=o.add(i);return s.equals(dt.ZERO)?void 0:s.toAffine()}}function wt(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function mt(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${St(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:_t(n),left:t.subarray(e+2)}}gt.BASE=new gt(nt.Gx,nt.Gy),gt.ZERO=new gt(X,X);class bt{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?St(t):t;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new bt(Tt(r.slice(0,64)),Tt(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${St(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=mt(t.subarray(2)),{data:r,left:o}=mt(n);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${St(o)}`);return{r:e,s:r}}(e?t:It(t));return new bt(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!Dt(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Dt(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=nt.n>>Y;return this.s>t}normalizeS(){return this.hasHighS()?new bt(this.r,Ct(-this.s,nt.n)):this}toDERRawBytes(){return It(this.toDERHex())}toDERHex(){const t=wt(Bt(this.s)),e=wt(Bt(this.r)),n=t.length/2,r=e.length/2,o=Bt(n),i=Bt(r);return`30${Bt(r+n+4)}02${i}${e}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return It(this.toCompactHex())}toCompactHex(){return At(this.r)+At(this.s)}}function vt(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}const Et=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function St(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=Et[t[n]];return e}const xt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function At(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(X<=t&&t<xt))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function $t(t){const e=It(At(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function Bt(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function Tt(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function It(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function _t(t){return Tt(St(t))}function kt(t){return t instanceof Uint8Array?Uint8Array.from(t):It(t)}function Ut(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&Dt(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Ct(t,e=nt.P){const n=t%e;return n>=X?n:e+n}function Ot(t,e){const{P:n}=nt;let r=t;for(;e-- >X;)r*=r,r%=n;return r}function Pt(t,e=nt.P){if(t===X||e<=X)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ct(t,e),r=e,o=X,i=Y,s=Y,a=X;for(;n!==X;){const t=r/n,e=r%n,c=o-s*t,l=i-a*t;r=n,n=e,o=s,i=a,s=c,a=l}if(r!==Y)throw new Error("invert: does not exist");return Ct(o,e)}function Ht(t,e=!1){const n=function(t){const e=8*t.length-8*st,n=_t(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;const{n:r}=nt;return n>=r?n-r:n}let Nt,Rt;class Lt{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Xt.hmacSha256(this.k,...t)}hmacSync(...t){return Rt(this.k,...t)}checkSync(){if("function"!=typeof Rt)throw new ht("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return vt(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return vt(...e)}}function Dt(t){return X<t&&t<nt.n}function jt(t){return X<t&&t<nt.P}function Mt(t,e,n,r=!0){const{n:o}=nt,i=Ht(t,!0);if(!Dt(i))return;const s=Pt(i,o),a=gt.BASE.multiply(i),c=Ct(a.x,o);if(c===X)return;const l=Ct(s*Ct(e+n*c,o),o);if(l===X)return;let u=new bt(c,l),h=(a.x===u.r?0:2)|Number(a.y&Y);return r&&u.hasHighS()&&(u=u.normalizeS(),h^=1),{sig:u,recovery:h}}function Ft(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*st)throw new Error("Expected 32 bytes of private key");e=Tt(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==st)throw new Error("Expected 32 bytes of private key");e=_t(t)}if(!Dt(e))throw new Error("Expected private key: 0 < key < n");return e}function Kt(t,e=!1){return gt.fromPrivateKey(t).toRawBytes(e)}function zt(t){const e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?r===at||r===ct:n?r===2*at||r===2*ct:t instanceof gt}function Vt(t,e,n=!1){if(zt(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!zt(e))throw new TypeError("getSharedSecret: second arg must be public key");const r=(o=e)instanceof gt?(o.assertValidity(),o):gt.fromHex(o);var o;return r.assertValidity(),r.multiply(Ft(t)).toRawBytes(n)}function qt(t){return _t(t.length>it?t.slice(0,it):t)}function Gt(t){const e=qt(t),n=Ct(e,nt.n);return Wt(n<X?e:n)}function Wt(t){return $t(t)}gt.BASE._setWindowSize(8);const Jt={node:Z,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Zt={},Xt={bytesToHex:St,hexToBytes:It,concatBytes:vt,mod:Ct,invert:Pt,isValidPrivateKey(t){try{return Ft(t),!0}catch(t){return!1}},_bigintTo32Bytes:$t,_normalizePrivateKey:Ft,hashToPrivateKey:t=>{t=kt(t);const e=st+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return $t(Ct(_t(t),nt.n-Y)+Y)},randomBytes:(t=32)=>{if(Jt.web)return Jt.web.getRandomValues(new Uint8Array(t));if(Jt.node){const{randomBytes:e}=Jt.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Xt.hashToPrivateKey(Xt.randomBytes(st+8)),precompute(t=8,e=gt.BASE){const n=e===gt.BASE?e:new gt(e.x,e.y);return n._setWindowSize(t),n.multiply(tt),n},sha256:async(...t)=>{if(Jt.web){const e=await Jt.web.subtle.digest("SHA-256",vt(...t));return new Uint8Array(e)}if(Jt.node){const{createHash:e}=Jt.node,n=e("sha256");return t.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Jt.web){const n=await Jt.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=vt(...e),o=await Jt.web.subtle.sign("HMAC",n,r);return new Uint8Array(o)}if(Jt.node){const{createHmac:n}=Jt.node,r=n("sha256",t);return e.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=Zt[t];if(void 0===n){const e=await Xt.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=vt(e,e),Zt[t]=n}return Xt.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof Nt)throw new ht("sha256Sync is undefined, you need to set it");let n=Zt[t];if(void 0===n){const e=Nt(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=vt(e,e),Zt[t]=n}return Nt(n,...e)},_JacobianPoint:dt};function Yt(t){const e="string"==typeof t?f(t):t;if(32!=e.length&&33!=e.length)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${e.length}`);if(33==e.length&&1!==e[32])throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return e}Object.defineProperties(Xt,{sha256Sync:{configurable:!1,get:()=>Nt,set(t){Nt||(Nt=t)}},hmacSha256Sync:{configurable:!1,get:()=>Rt,set(t){Rt||(Rt=t)}}});var Qt=s(191),te=s.n(Qt);const ee=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ne=Uint8Array.from({length:16},((t,e)=>e)),re=ne.map((t=>(9*t+5)%16));let oe=[ne],ie=[re];for(let t=0;t<4;t++)for(let e of[oe,ie])e.push(e[t].map((t=>ee[t])));const se=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((t=>new Uint8Array(t))),ae=oe.map(((t,e)=>t.map((t=>se[e][t])))),ce=ie.map(((t,e)=>t.map((t=>se[e][t])))),le=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),ue=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),he=(t,e)=>t<<e|t>>>32-e;function fe(t,e,n,r){return 0===t?e^n^r:1===t?e&n|~e&r:2===t?(e|~n)^r:3===t?e&r|n&~r:e^(n|~r)}const de=new Uint32Array(16);class pe extends M{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:n,h3:r,h4:o}=this;return[t,e,n,r,o]}set(t,e,n,r,o){this.h0=0|t,this.h1=0|e,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(t,e){for(let n=0;n<16;n++,e+=4)de[n]=t.getUint32(e,!0);let n=0|this.h0,r=n,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,l=c,u=0|this.h4,h=u;for(let t=0;t<5;t++){const e=4-t,f=le[t],d=ue[t],p=oe[t],y=ie[t],g=ae[t],w=ce[t];for(let e=0;e<16;e++){const r=he(n+fe(t,o,s,c)+de[p[e]]+f,g[e])+u|0;n=u,u=c,c=0|he(s,10),s=o,o=r}for(let t=0;t<16;t++){const n=he(r+fe(e,i,a,l)+de[y[t]]+d,w[t])+h|0;r=h,h=l,l=0|he(a,10),a=i,i=n}}this.set(this.h1+s+l|0,this.h2+c+h|0,this.h3+u+r|0,this.h4+n+i|0,this.h0+o+a|0)}roundClean(){de.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ye=L((()=>new pe)),ge=BigInt(2**32-1),we=BigInt(32);function me(t,e=!1){return e?{h:Number(t&ge),l:Number(t>>we&ge)}:{h:0|Number(t>>we&ge),l:0|Number(t&ge)}}const be={fromBig:me,split:function(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=me(t[o],e);[n[o],r[o]]=[i,s]}return[n,r]},toBig:(t,e)=>BigInt(t>>>0)<<we|BigInt(e>>>0),shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,n)=>t<<n|e>>>32-n,rotlSL:(t,e,n)=>e<<n|t>>>32-n,rotlBH:(t,e,n)=>e<<n-32|t>>>64-n,rotlBL:(t,e,n)=>t<<n-32|e>>>64-n,add:function(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:0|o}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,add5H:(t,e,n,r,o,i)=>e+n+r+o+i+(t/2**32|0)|0,add5L:(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0)},[ve,Ee]=be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),Se=new Uint32Array(80),xe=new Uint32Array(80);class Ae extends M{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[t,e,n,r,o,i,s,a,c,l,u,h,f,d,p,y]}set(t,e,n,r,o,i,s,a,c,l,u,h,f,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let n=0;n<16;n++,e+=4)Se[n]=t.getUint32(e),xe[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|Se[t-15],n=0|xe[t-15],r=be.rotrSH(e,n,1)^be.rotrSH(e,n,8)^be.shrSH(e,n,7),o=be.rotrSL(e,n,1)^be.rotrSL(e,n,8)^be.shrSL(e,n,7),i=0|Se[t-2],s=0|xe[t-2],a=be.rotrSH(i,s,19)^be.rotrBH(i,s,61)^be.shrSH(i,s,6),c=be.rotrSL(i,s,19)^be.rotrBL(i,s,61)^be.shrSL(i,s,6),l=be.add4L(o,c,xe[t-7],xe[t-16]),u=be.add4H(l,r,a,Se[t-7],Se[t-16]);Se[t]=0|u,xe[t]=0|l}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:f,Fl:d,Gh:p,Gl:y,Hh:g,Hl:w}=this;for(let t=0;t<80;t++){const e=be.rotrSH(u,h,14)^be.rotrSH(u,h,18)^be.rotrBH(u,h,41),m=be.rotrSL(u,h,14)^be.rotrSL(u,h,18)^be.rotrBL(u,h,41),b=u&f^~u&p,v=h&d^~h&y,E=be.add5L(w,m,v,Ee[t],xe[t]),S=be.add5H(E,g,e,b,ve[t],Se[t]),x=0|E,A=be.rotrSH(n,r,28)^be.rotrBH(n,r,34)^be.rotrBH(n,r,39),$=be.rotrSL(n,r,28)^be.rotrBL(n,r,34)^be.rotrBL(n,r,39),B=n&o^n&s^o&s,T=r&i^r&a^i&a;g=0|p,w=0|y,p=0|f,y=0|d,f=0|u,d=0|h,({h:u,l:h}=be.add(0|c,0|l,0|S,0|x)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const I=be.add3L(x,$,T);n=be.add3H(I,S,A,B),r=0|I}({h:n,l:r}=be.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=be.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=be.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l}=be.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=be.add(0|this.Eh,0|this.El,0|u,0|h)),({h:f,l:d}=be.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:y}=be.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:w}=be.add(0|this.Hh,0|this.Hl,0|g,0|w)),this.set(n,r,o,i,s,a,c,l,u,h,f,d,p,y,g,w)}roundClean(){Se.fill(0),xe.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class $e extends Ae{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Be extends Ae{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Te extends Ae{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Ie=L((()=>new Ae));function _e(t){return W(t)}L((()=>new $e)),L((()=>new Be)),L((()=>new Te));const ke=0;function Ue(t,e=ke){var n;return function(t,e){return function(t){const e=W(W(t));return te().encode(y(t,e).slice(0,t.length+4))}(y(new Uint8Array([t]),e.slice(0,20)))}(e,(n=_e("string"==typeof t?f(t):t),ye(n)))}function Ce(t){return h(Kt(Yt(t).slice(0,32),!0))}function Oe(t){if(t){const e=function(t){const e=t.split(":");if(3!==e.length)throw new v("Decentralized IDs must have 3 parts");if("did"!==e[0].toLowerCase())throw new v('Decentralized IDs must start with "did"');return e[1].toLowerCase()}(t);return"btc-addr"===e?t.split(":")[2]:void 0}}function Pe(t){const e=(0,k.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");const n=e.public_keys;if(1!==n.length)throw new Error("Multiple public keys are not supported");{const e=n[0];try{return new k.TokenVerifier("ES256k",e).verify(t)}catch(t){return!1}}}function He(t){const e=(0,k.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");const n=e.public_keys,r=Oe(e.iss);if(1!==n.length)throw new Error("Multiple public keys are not supported");return Ue(n[0])===r}function Ne(t){const e=(0,k.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");if(e.iat){if("number"!=typeof e.iat)return!1;const t=new Date(1e3*e.iat);return!((new Date).getTime()<t.getTime())}return!0}function Re(t){const e=(0,k.decodeToken)(t).payload;if("string"==typeof e)throw new Error("Unexpected token payload type of string");if(e.exp){if("number"!=typeof e.exp)return!1;const t=new Date(1e3*e.exp);return!((new Date).getTime()>t.getTime())}return!0}Xt.hmacSha256Sync=(t,...e)=>{const n=j.create(W,t);return e.forEach((t=>n.update(t))),n.digest()};var Le=s(742);const De='Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.';class je{constructor(t,e){this.createCipher=t,this.createDecipher=e}async encrypt(t,e,n,r){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);const o=this.createCipher(t,e,n),i=new Uint8Array(y(o.update(r),o.final()));return Promise.resolve(i)}async decrypt(t,e,n,r){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);const o=this.createDecipher(t,e,n),i=new Uint8Array(y(o.update(r),o.final()));return Promise.resolve(i)}}class Me{constructor(t){this.subtleCrypto=t}async encrypt(t,e,n,r){let o,i;if("aes-128-cbc"===t)o="AES-CBC",i=128;else{if("aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);o="AES-CBC",i=256}const s=await this.subtleCrypto.importKey("raw",e,{name:o,length:i},!1,["encrypt"]),a=await this.subtleCrypto.encrypt({name:o,iv:n},s,r);return new Uint8Array(a)}async decrypt(t,e,n,r){let o,i;if("aes-128-cbc"===t)o="AES-CBC",i=128;else{if("aes-256-cbc"!==t)throw new Error(`Unsupported cipher algorithm "${t}"`);o="AES-CBC",i=256}const s=await this.subtleCrypto.importKey("raw",e,{name:o,length:i},!1,["decrypt"]),a=await this.subtleCrypto.decrypt({name:o,iv:n},s,r);return new Uint8Array(a)}}async function Fe(){const t=await async function(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:s(859),name:"nodeCrypto"}}catch(t){throw new Error(De)}}();return"subtleCrypto"===t.name?new Me(t.lib):new je(t.lib.createCipheriv,t.lib.createDecipheriv)}var Ke;function ze(t,e){return j(W,t,e)}function Ve(t){const e=Ie(t);return{encryptionKey:e.slice(0,32),hmacKey:e.slice(32)}}async function qe(t,e){if(!e.ephemeralPK)throw new S("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");const n=e.ephemeralPK;let r=Vt(t,n,!0);r=r.slice(1);const o=Ve(r),i=f(e.iv);let s;if(e.cipherTextEncoding&&"hex"!==e.cipherTextEncoding){if("base64"!==e.cipherTextEncoding)throw new Error(`Unexpected cipherTextEncoding "${e.cipherText}"`);s=(0,Le.toByteArray)(e.cipherText)}else s=f(e.cipherText);const a=y(i,f(n),s),c=ze(o.hmacKey,a);if(!function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n}(f(e.mac),c))throw new S("Decryption failed: failure in MAC check");const l=await async function(t,e,n){const r=await Fe();return await r.decrypt("aes-256-cbc",e,t,n)}(i,o.encryptionKey,s);return e.wasString?p(l):l}function Ge(t,e){const n="string"==typeof e?d(e):e,r=Ce(t),o=function(t,e,n={}){const{seed:r,m:o,d:i}=function(t,e,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=kt(t),o=Ft(e),i=[Wt(o),Gt(r)];if(null!=n){!0===n&&(n=Xt.randomBytes(it));const t=kt(n);if(t.length!==it)throw new Error(`sign: Expected ${it} bytes of extra data`);i.push(t)}return{seed:vt(...i),m:qt(r),d:o}}(t,e,n.extraEntropy),s=new Lt(32,st);let a;for(s.reseedSync(r);!(a=Mt(s.generateSync(),o,i,n.canonical));)s.reseedSync();return function(t,e){const{sig:n,recovery:r}=t,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},e),s=o?n.toDERRawBytes():n.toCompactRawBytes();return i?[s,r]:s}(a,n)}(_e(n),t);return{signature:h(o),publicKey:r}}Xt.hmacSha256Sync=(t,...e)=>{const n=j.create(W,t);return e.forEach((t=>n.update(t))),n.digest()},function(t){t.InvalidFormat="InvalidFormat",t.IsNotPoint="IsNotPoint"}(Ke||(Ke={}));async function We(t,e){const n=p(f(e)),r=JSON.parse(n),o=await qe(t,r);if("string"!=typeof o)throw new Error("Unable to correctly decrypt private key");return o}var Je,Ze,Xe,Ye;(Ye=Je||(Je={}))[Ye.Testnet=2147483648]="Testnet",Ye[Ye.Mainnet=1]="Mainnet",(Xe=Ze||(Ze={}))[Xe.Mainnet=0]="Mainnet",Xe[Xe.Testnet=128]="Testnet";var Qe,tn,en,nn,rn,on,sn=s(701);!function(t){t[t.Testnet=2147483648]="Testnet",t[t.Mainnet=1]="Mainnet"}(Qe||(Qe={})),Qe.Mainnet,(on=tn||(tn={}))[on.Address=0]="Address",on[on.Principal=1]="Principal",on[on.LengthPrefixedString=2]="LengthPrefixedString",on[on.MemoString=3]="MemoString",on[on.AssetInfo=4]="AssetInfo",on[on.PostCondition=5]="PostCondition",on[on.PublicKey=6]="PublicKey",on[on.LengthPrefixedList=7]="LengthPrefixedList",on[on.Payload=8]="Payload",on[on.MessageSignature=9]="MessageSignature",on[on.StructuredDataSignature=10]="StructuredDataSignature",on[on.TransactionAuthField=11]="TransactionAuthField",function(t){t[t.TokenTransfer=0]="TokenTransfer",t[t.SmartContract=1]="SmartContract",t[t.VersionedSmartContract=6]="VersionedSmartContract",t[t.ContractCall=2]="ContractCall",t[t.PoisonMicroblock=3]="PoisonMicroblock",t[t.Coinbase=4]="Coinbase",t[t.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"}(en||(en={})),function(t){t[t.Clarity1=1]="Clarity1",t[t.Clarity2=2]="Clarity2"}(nn||(nn={})),function(t){t[t.OnChainOnly=1]="OnChainOnly",t[t.OffChainOnly=2]="OffChainOnly",t[t.Any=3]="Any"}(rn||(rn={}));var an,cn,ln,un,hn,fn,dn,pn,yn,gn,wn,mn,bn;rn.OnChainOnly,rn.OffChainOnly,rn.Any,rn.OnChainOnly,rn.OnChainOnly,rn.OffChainOnly,rn.OffChainOnly,rn.Any,rn.Any,function(t){t[t.Mainnet=0]="Mainnet",t[t.Testnet=128]="Testnet"}(an||(an={})),an.Mainnet,function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"}(cn||(cn={})),function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"}(ln||(ln={})),function(t){t[t.Standard=4]="Standard",t[t.Sponsored=5]="Sponsored"}(un||(un={})),function(t){t[t.SerializeP2PKH=0]="SerializeP2PKH",t[t.SerializeP2SH=1]="SerializeP2SH",t[t.SerializeP2WPKH=2]="SerializeP2WPKH",t[t.SerializeP2WSH=3]="SerializeP2WSH"}(hn||(hn={})),function(t){t[t.MainnetSingleSig=22]="MainnetSingleSig",t[t.MainnetMultiSig=20]="MainnetMultiSig",t[t.TestnetSingleSig=26]="TestnetSingleSig",t[t.TestnetMultiSig=21]="TestnetMultiSig"}(fn||(fn={})),(bn=dn||(dn={}))[bn.Compressed=0]="Compressed",bn[bn.Uncompressed=1]="Uncompressed",function(t){t[t.Equal=1]="Equal",t[t.Greater=2]="Greater",t[t.GreaterEqual=3]="GreaterEqual",t[t.Less=4]="Less",t[t.LessEqual=5]="LessEqual"}(pn||(pn={})),function(t){t[t.Sends=16]="Sends",t[t.DoesNotSend=17]="DoesNotSend"}(yn||(yn={})),function(t){t[t.Origin=1]="Origin",t[t.Standard=2]="Standard",t[t.Contract=3]="Contract"}(gn||(gn={})),function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"}(wn||(wn={})),function(t){t.Serialization="Serialization",t.Deserialization="Deserialization",t.SignatureValidation="SignatureValidation",t.FeeTooLow="FeeTooLow",t.BadNonce="BadNonce",t.NotEnoughFunds="NotEnoughFunds",t.NoSuchContract="NoSuchContract",t.NoSuchPublicFunction="NoSuchPublicFunction",t.BadFunctionArgument="BadFunctionArgument",t.ContractAlreadyExists="ContractAlreadyExists",t.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",t.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",t.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",t.BadAddressVersionByte="BadAddressVersionByte",t.NoCoinbaseViaMempool="NoCoinbaseViaMempool",t.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",t.ServerFailureDatabase="ServerFailureDatabase",t.ServerFailureOther="ServerFailureOther"}(mn||(mn={})),s(465);const vn=t=>h((t=>ye(W(t)))(t));function En(t,e=null){let n;n=e?function(t,e){const n=(0,k.decodeToken)(t),r=n.payload;if("string"==typeof r)throw new Error("Unexpected token payload type of string");if(!r.hasOwnProperty("subject")||!r.subject)throw new Error("Token doesn't have a subject");if(!r.subject.hasOwnProperty("publicKey"))throw new Error("Token doesn't have a subject public key");if(!r.hasOwnProperty("issuer")||!r.issuer)throw new Error("Token doesn't have an issuer");if(!r.issuer.hasOwnProperty("publicKey"))throw new Error("Token doesn't have an issuer public key");if(!r.hasOwnProperty("claim"))throw new Error("Token doesn't have a claim");const o=r.issuer.publicKey,i=function(t,e=an.Mainnet){var n,r,o;return t="string"==typeof t?t:h(t),n=function(t,e){switch(t){case hn.SerializeP2PKH:switch(e){case an.Mainnet:return fn.MainnetSingleSig;case an.Testnet:return fn.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(e)} for hashMode ${t}`)}case hn.SerializeP2SH:case hn.SerializeP2WPKH:case hn.SerializeP2WSH:switch(e){case an.Mainnet:return fn.MainnetMultiSig;case an.Testnet:return fn.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(e)} for hashMode ${t}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(t)}`)}}(hn.SerializeP2PKH,e),r=vn(f(t)),o={type:tn.Address,version:n,hash160:r},(0,sn.H4)(o.version,o.hash160)}(o);if(e===o);else if(e!==i)throw new Error("Token issuer public key does not match the verifying value");const s=new k.TokenVerifier(n.header.alg,o);if(!s)throw new Error("Invalid token verifier");if(!s.verify(t))throw new Error("Token verification failed");return n}(t,e):(0,k.decodeToken)(t);let r={};if(n.hasOwnProperty("payload")){const t=n.payload;if("string"==typeof t)throw new Error("Unexpected token payload type of string");t.hasOwnProperty("claim")&&(r=t.claim)}return r}Xt.hmacSha256Sync=(t,...e)=>{const n=j.create(W,t);return e.forEach((t=>n.update(t))),n.digest()},s(905);const Sn={referrerPolicy:"origin"};async function xn(t,e){const n={};return Object.assign(n,e,Sn),await fetch(t,n)}function An(...t){const{fetchLib:e,middlewares:n}=function(t){let e=xn,n=[];return t.length>0&&"function"==typeof t[0]&&(e=t.shift()),t.length>0&&(n=t),{fetchLib:e,middlewares:n}}(t);return async(t,r)=>{let o={url:t,init:r??{}};for(const t of n)"function"==typeof t.pre&&(o=await Promise.resolve(t.pre({fetch:e,...o}))??o);let i=await e(o.url,o.init);for(const t of n)if("function"==typeof t.post){const n=await Promise.resolve(t.post({fetch:e,url:o.url,init:o.init,response:i?.clone()??i}));i=n??i}return i}}const $n=["mainnet","testnet","devnet","mocknet"];class Bn{constructor(t){this.version=Ze.Mainnet,this.chainId=Je.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===Ze.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=t=>`${this.coreApiUrl}${this.accountEndpoint}/${t}?proof=0`,this.getAccountExtendedBalancesApiUrl=t=>`${this.coreApiUrl}/extended/v1/address/${t}/balances`,this.getAbiApiUrl=(t,e)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${t}/${e}`,this.getReadOnlyFunctionCallApiUrl=(t,e,n)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${t}/${e}/${encodeURIComponent(n)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(t,e)=>{let n=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}`;return e&&(n=`${n}?limit=${e.limit}&offset=${e.offset}`),n},this.getRewardsTotalUrl=t=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}/total`,this.getRewardHoldersUrl=(t,e)=>{let n=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${t}`;return e&&(n=`${n}?limit=${e.limit}&offset=${e.offset}`),n},this.getStackerInfoUrl=(t,e)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}\n    ${t}/${e}/get-stacker-info`,this.getDataVarUrl=(t,e,n)=>`${this.coreApiUrl}/v2/data_var/${t}/${e}/${n}?proof=0`,this.getMapEntryUrl=(t,e,n)=>`${this.coreApiUrl}/v2/map_entry/${t}/${e}/${n}?proof=0`,this.coreApiUrl=t.url,this.fetchFn=t.fetchFn??An()}getNameInfo(t){const e=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(e).then((t=>{if(404===t.status)throw new Error("Name not found");if(200!==t.status)throw new Error(`Bad response status: ${t.status}`);return t.json()})).then((t=>t.address?Object.assign({},t,{address:t.address}):t))}}Bn.fromName=t=>{switch(t){case"mainnet":return new Tn;case"testnet":return new In;case"devnet":return new kn;case"mocknet":return new _n;default:throw new Error(`Invalid network name provided. Must be one of the following: ${$n.join(", ")}`)}},Bn.fromNameOrNetwork=t=>"string"!=typeof t&&"version"in t?t:Bn.fromName(t);class Tn extends Bn{constructor(t){super({url:t?.url??"https://stacks-node-api.mainnet.stacks.co",fetchFn:t?.fetchFn}),this.version=Ze.Mainnet,this.chainId=Je.Mainnet}}class In extends Bn{constructor(t){super({url:t?.url??"https://stacks-node-api.testnet.stacks.co",fetchFn:t?.fetchFn}),this.version=Ze.Testnet,this.chainId=Je.Testnet}}class _n extends Bn{constructor(t){super({url:t?.url??"http://localhost:3999",fetchFn:t?.fetchFn}),this.version=Ze.Testnet,this.chainId=Je.Testnet}}const kn=_n,Un="_blockstackDidCheckEchoReply";class Cn{constructor(t){let e=!0;if("undefined"==typeof window&&"undefined"==typeof self&&(e=!1),t&&t.appConfig)this.appConfig=t.appConfig;else{if(!e)throw new b("You need to specify options.appConfig");this.appConfig=new g}t&&t.sessionStore?this.store=t.sessionStore:this.store=e?t?new _(t.sessionOptions):new _:t?new I(t.sessionOptions):new I}makeAuthRequestToken(t,n,r,o,i,s=function(){return new Date((new Date).setHours((new Date).getHours()+1))}().getTime(),a={}){const u=this.appConfig;if(!u)throw new x("Missing AppConfig");return function(t,n,r,o=e.slice(),i,s=function(){return new Date((new Date).setMonth((new Date).getMonth()+1))}().getTime(),a={}){const u=t=>{const e=l("location",{throwIfUnavailable:!0,usageDesc:`makeAuthRequest([${t}=undefined])`});return e?.origin};n||(n=`${u("redirectURI")}/`),r||(r=`${u("manifestURI")}/manifest.json`),i||(i=u("appDomain"));const h=Object.assign({},a,{jti:c(),iat:Math.floor((new Date).getTime()/1e3),exp:Math.floor(s/1e3),iss:null,public_keys:[],domain_name:i,manifest_uri:r,redirect_uri:n,version:"1.4.0",do_not_include_profile:!0,supports_hub_url:!0,scopes:o}),f=k.SECP256K1Client.derivePublicKey(t);h.public_keys=[f];const d=Ue(f);return h.iss=function(t){return`did:btc-addr:${t}`}(d),new k.TokenSigner("ES256k",t).sign(h)}(t=t||this.generateAndStoreTransitKey(),n=n||u.redirectURI(),r=r||u.manifestURI(),o=o||u.scopes,i=i||u.appDomain,s,a)}generateAndStoreTransitKey(){const t=this.store.getSessionData(),e=h(Xt.randomPrivateKey());return t.transitKey=e,this.store.setSessionData(t),e}getAuthResponseToken(){const t=l("location",{throwIfUnavailable:!0,usageDesc:"getAuthResponseToken"})?.search;return new URLSearchParams(t).get("authResponse")??""}isSignInPending(){try{if(function(){let t;if("undefined"!=typeof self)t=self;else{if("undefined"==typeof window)return!1;t=window}if(!t.location||!t.localStorage)return!1;const e=t[Un];if("boolean"==typeof e)return e;const n=(r=t.location.search)?(/^[?#]/.test(r)?r.slice(1):r).split("&").reduce(((t,e)=>{const[n,r]=e.split("=");return t[n]=r?decodeURIComponent(r.replace(/\+/g," ")):"",t}),{}):{};var r;const o=n.echoReply;if(o){t[Un]=!0;const e=`echo-reply-${o}`;return t.localStorage.setItem(e,"success"),t.setTimeout((()=>{const e=n.authContinuation;t.location.href=e}),10),!0}return!1}())return i.info("protocolEchoReply detected from isSignInPending call, the page is about to redirect."),!0}catch(t){i.error(`Error checking for protocol echo reply isSignInPending: ${t}`)}return!!this.getAuthResponseToken()}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(e=this.getAuthResponseToken(),n=An()){const r=this.store.getSessionData();if(r.userData)throw new E("Existing user session found.");const o=this.store.getSessionData().transitKey;let s=this.appConfig&&this.appConfig.coreNode;s||(s=(new Tn).bnsLookupUrl);const c=(0,k.decodeToken)(e).payload;if("string"==typeof c)throw new Error("Unexpected token payload type of string");if(!await async function(t){return(await Promise.all([Re(t),Ne(t),Pe(t),He(t)])).every((t=>t))}(e))throw new E("Invalid authentication response.");let l=c.private_key,u=c.core_token;if(a(c.version,"1.1.0")){if(void 0===o||null==o)throw new E("Authenticating with protocol > 1.1.0 requires transit key, and none found.");if(void 0!==c.private_key&&null!==c.private_key)try{l=await We(o,c.private_key)}catch(t){if(i.warn("Failed decryption of appPrivateKey, will try to use as given"),h=c.private_key,!Xt.isValidPrivateKey(Yt(h)))throw new E("Failed decrypting appPrivateKey. Usually means that the transit key has changed during login.")}if(null!=u)try{u=await We(o,u)}catch(t){i.info("Failed decryption of coreSessionToken, will try to use as given")}}var h;let f,d="https://hub.blockstack.org";a(c.version,"1.2.0")&&null!==c.hubUrl&&void 0!==c.hubUrl&&(d=c.hubUrl),a(c.version,"1.3.0")&&null!==c.associationToken&&void 0!==c.associationToken&&(f=c.associationToken);const p={profile:c.profile,email:c.email,decentralizedID:c.iss,identityAddress:Oe(c.iss),appPrivateKey:l,coreSessionToken:u,authResponseToken:e,hubUrl:d,appPrivateKeyFromWalletSalt:c.appPrivateKeyFromWalletSalt,coreNode:c.blockstackAPIUrl,gaiaAssociationToken:f},y=c.profile_url;if(!p.profile&&y){const e=await n(y);if(e.ok){const t=await e.text(),n=JSON.parse(t);p.profile=En(n[0].token)}else p.profile=Object.assign({},t)}else p.profile=c.profile;return r.userData=p,this.store.setSessionData(r),p}loadUserData(){const t=this.store.getSessionData().userData;if(!t)throw new x("No user data found. Did the user sign in?");return t}encryptContent(t,e){const n=Object.assign({},e);return n.privateKey||(n.privateKey=this.loadUserData().appPrivateKey),async function(t,e){const n=Object.assign({},e);let r;if(!n.publicKey){if(!n.privateKey)throw new Error("Either public key or private key must be supplied for encryption.");n.publicKey=Ce(n.privateKey)}const o="boolean"==typeof n.wasString?n.wasString:"string"==typeof t,i="string"==typeof t?d(t):t,s=await async function(t,e,n,r){const o=function(t){const e={result:!1,reason_data:"Invalid public key format",reason:Ke.InvalidFormat},n={result:!1,reason_data:"Public key is not a point",reason:Ke.IsNotPoint};if(66!==t.length&&130!==t.length)return e;const r=t.slice(0,2);if(130===t.length&&"04"!==r)return e;if(66===t.length&&"02"!==r&&"03"!==r)return e;if(null===t.match(/^[0-9a-f]+$/i))return e;try{return gt.fromHex(t).assertValidity(),{result:!0,reason_data:null,reason:null}}catch(t){return n}}(t);if(!o.result)throw o;const i=Xt.randomPrivateKey(),s=Kt(i,!0);let a=Vt(i,t,!0);a=a.slice(1);const c=Ve(a),l=Xt.randomBytes(16),u=await async function(t,e,n){const r=await Fe();return await r.encrypt("aes-256-cbc",e,t,n)}(l,c.encryptionKey,e),f=y(l,s,u),d=ze(c.hmacKey,f);let p;if(r&&"hex"!==r){if("base64"!==r)throw new Error(`Unexpected cipherTextEncoding "${r}"`);p=(0,Le.fromByteArray)(u)}else p=h(u);const g={iv:h(l),ephemeralPK:h(s),cipherText:p,mac:h(d),wasString:n};return r&&"hex"!==r&&(g.cipherTextEncoding=r),g}(n.publicKey,i,o,n.cipherTextEncoding);let a=JSON.stringify(s);if(n.sign){"string"==typeof n.sign?r=n.sign:r||(r=n.privateKey);const t=Ge(r,a),e={signature:t.signature,publicKey:t.publicKey,cipherText:a};a=JSON.stringify(e)}return a}(t,n)}decryptContent(t,e){const n=Object.assign({},e);return n.privateKey||(n.privateKey=this.loadUserData().appPrivateKey),function(t,e){const n=Object.assign({},e);if(!n.privateKey)throw new Error("Private key is required for decryption.");try{const e=JSON.parse(t);return qe(n.privateKey,e)}catch(t){throw t instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):t}}(t,n)}signUserOut(t){this.store.deleteSessionData(),t&&"undefined"!=typeof location&&location.href&&(location.href=t)}}Cn.prototype.makeAuthRequest=Cn.prototype.makeAuthRequestToken;var On=s(468);function Pn(){return window.StacksProvider||window.BlockstackProvider}!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}(),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Hn="7.4.0";"undefined"!=typeof window&&(window.__CONNECT_VERSION__=Hn);Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));var Nn,Rn,Ln,Dn,jn=((Rn=jn||{}).ContractCall="contract_call",Rn.ContractDeploy="smart_contract",Rn.STXTransfer="token_transfer",Rn),Mn=((Nn=Mn||{}).BUFFER="buffer",Nn.UINT="uint",Nn.INT="int",Nn.PRINCIPAL="principal",Nn.BOOL="bool",Nn),Fn=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY",t))(Fn||{}),Kn=(t,e=Pn())=>{if(e)(async(t,e=Pn())=>{if(!e)throw new Error("[Connect] No installed Stacks wallet found");let{redirectTo:n="/",manifestPath:r,onFinish:o,onCancel:i,sendToSignIn:s=!1,userSession:a,appDetails:c}=t,l=(t=>{if(!t){let e=new g(["store_write"],document.location.href);t=new Cn({appConfig:e})}return t})(a);l.isUserSignedIn()&&l.signUserOut();let u=l.generateAndStoreTransitKey(),h=l.makeAuthRequest(u,`${document.location.origin}${n}`,`${document.location.origin}${r}`,l.appConfig.scopes,void 0,void 0,{sendToSignIn:s,appDetails:c,connectVersion:Hn});try{let t=await e.authenticationRequest(h);await l.handlePendingSignIn(t);let n=(0,k.decodeToken)(t),r=null==n?void 0:n.payload;null==o||o({authResponse:t,authResponsePayload:r,userSession:l})}catch(t){console.error("[Connect] Error during auth request",t),null==i||i()}})(t,e);else if(void 0!==typeof window){window,"undefined"==typeof window?Promise.resolve():(0,On.p)().then((()=>(0,On.b)([["connect-modal",[[1,"connect-modal",{authOptions:[16],hasOpenedInstall:[32],hasOpenedInstallXverse:[32]}]]]],n)));let e=document.createElement("connect-modal");e.authOptions=t,document.body.appendChild(e);let r=t=>{"Escape"===t.key&&(document.removeEventListener("keydown",r),e.remove())};document.addEventListener("keydown",r)}var n};(Dn=Ln||(Ln={}))[Dn.Int=0]="Int",Dn[Dn.UInt=1]="UInt",Dn[Dn.Buffer=2]="Buffer",Dn[Dn.BoolTrue=3]="BoolTrue",Dn[Dn.BoolFalse=4]="BoolFalse",Dn[Dn.PrincipalStandard=5]="PrincipalStandard",Dn[Dn.PrincipalContract=6]="PrincipalContract",Dn[Dn.ResponseOk=7]="ResponseOk",Dn[Dn.ResponseErr=8]="ResponseErr",Dn[Dn.OptionalNone=9]="OptionalNone",Dn[Dn.OptionalSome=10]="OptionalSome",Dn[Dn.List=11]="List",Dn[Dn.Tuple=12]="Tuple",Dn[Dn.StringASCII=13]="StringASCII",Dn[Dn.StringUTF8=14]="StringUTF8";const zn=t=>({type:Ln.StringASCII,data:t});console.log("Stacks connect:",Kn),console.log("Stacks transactions:",zn);const Vn=new g(["store_write","publish_data"]),qn=new Cn({appConfig:Vn});if(qn.isUserSignedIn()){console.log("User is already signed in.");const t=qn.loadUserData();document.getElementById("walletStatus").textContent=`Logged in as: ${t.profile.stxAddress.mainnet}`,document.getElementById("logoutBtn").style.display="block"}else console.log("User is not signed in."),document.getElementById("walletStatus").textContent="Not logged in",document.getElementById("logoutBtn").style.display="none";let Gn=null;const Wn={"Select Class":["Select Type"],Drums:["Drum Loop","Bass Drum","Snare Drum","Tom-Tom","Cymbal","Hi-Hat","Floor Tom","Ride Cymbal","Crash Cymbal"],Bass:["Acoustic Bass","Electric Bass","Synth Bass","Fretless Bass","Upright Bass","5-String Bass"],Guitar:["Acoustic Guitar","Electric Guitar","Bass Guitar","Classical Guitar","12-String Guitar","Resonator Guitar","Pedal Steel Guitar"],Vocals:["Lead Vocals","Backing Vocals","Chorus","Harmony","Whisper","Shout","Speech","Sounds"],Percussion:["Bongo","Conga","Tambourine","Maracas","Timpani","Xylophone","Triangle","Djembe","Cajon","Tabla"],Strings:["Violin","Viola","Cello","Double Bass","Harp","Mandolin","Banjo","Ukulele","Sitar"],Keys:["Piano","Analog Synth","Digital Synth","Modular Synth","Wavetable Synth","FM Synthesis","Granular Synth","Additive Synth"],"Sound Effects":["Ambient","Nature","Industrial","Electronic","Urban","Animals","Weather","Mechanical","Sci-Fi"],Brass:["Trumpet","Trombone","Tuba","French Horn","Cornet","Bugle","Euphonium"],Woodwinds:["Flute","Clarinet","Oboe","Bassoon","Saxophone","Recorder","Piccolo","English Horn"],Keyboards:["Piano","Organ","Harpsichord","Accordion","Mellotron","Clavinet","Celesta"],Electronic:["Sampler","Drum Machine","Sequencer","Looper","Effect Processor"]};console.log("Initial setup complete. IPFS client initialized.");const Jn=IpfsHttpClient.create({host:"127.0.0.1",port:"5001",protocol:"http"});async function Zn(t){console.log(`Fetching price for ${t}...`);const e=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${t}&vs_currencies=usd`),n=await e.json();return console.log(`Price for ${t}: ${n[t].usd}`),n[t].usd}function Xn(t,e){const n=Wn[e];if(!n)return console.warn(`No instrument types found for class: ${e}`),void(t.innerHTML="");console.log("selectedClass value:",e,"instrumentClasses[selectedClass]:",n),t.innerHTML=n.concat("User Defined").map((t=>`<option value="${t}">${t}</option>`)).join("")}function Yn(t){return console.log(`File Size: ${t} KB - Color Class: [Your return value]`),t<1?"bright-green":t<5?"yellow":t<20?"orange":t<100?"pink":t<=350?"red":"black"}async function Qn(){if(console.log("mintAudionalNFT function invoked."),console.log("Checking ipfsURLGlobal:",Gn),!Gn)return void alert("IPFS URL not ready yet!");console.log(`IPFS URL: ${Gn}`),console.log(window.stacks);const t=new window.stacks.transactions.StacksTestnet;if(!t)return void console.error("Error initializing Stacks network.");console.log("Initialized Stacks network:",t);const e={contractAddress:"ST16SYS65BZPZSGDSBANTAKDQD7HSTBZ9SXJSB47P.Audionals-V8",contractName:"Audionals-V8",functionName:"claim",functionArgs:[zn(Gn)],appDetails:{name:"Your App Name",icon:"URL to your app's icon"},postConditionMode:1,network:t,onFinish:t=>{t.txId?(console.log(`Transaction successful with ID: ${t.txId}`),alert(`Minting successful! Transaction ID: ${t.txId}`)):(console.log("Transaction failed. No transaction ID."),alert("Minting failed. Please try again."))}};console.log("Transaction options set up:",e),console.log("About to show Stacks connect popup."),await Kn(e),console.log("Stacks connect popup has been shown.")}window.loadFiles=async function(){console.log("Loading files...");const[t,e]=await Promise.all([Zn("blockstack"),Zn("bitcoin")]),n=document.getElementById("audioFiles").files,r=document.getElementById("formsContainer");r.innerHTML="";let o=0,i=0,s=n.length;for(let s of n){console.log(`Processing file: ${s.name}`);const n=s.size/1024,a=6*s.size/1e8;o+=a,i+=a*e,console.log("About to create new form for file:",s.name);const c=document.createElement("div");c.className="audioForm",c.innerHTML=`\n                <input type="text" placeholder="File Name" class="fileName" value="${s.name}">\n                <select class="instrumentClass" name="instrumentClass">\n                    ${Object.keys(Wn).map((t=>`<option value="${t}">${t}</option>`)).join("")}\n                </select>\n                <select class="instrumentType"></select>\n                <input type="text" placeholder="Creator Name" class="creatorName">\n                <div class="${Yn(n)}">File Size: ${n.toFixed(2)} KB</div>\n                <div class="orange">Estimated Lowest Bitcoin Inscription Cost: ${a.toFixed(8)} BTC ($${(a*e).toFixed(2)})</div>\n                <div class="green">Cost to mint STX Audional NFT: 1 STX / $${t.toFixed(2)}</div>\n            `,r.appendChild(c),console.log("Form appended to container for file:",s.name),console.log("About to update type dropdown for file:",s.name),setTimeout((()=>{const t=c.querySelector(".instrumentClass");t?(Xn(c.querySelector(".instrumentType"),t.value),console.log(`Instrument class dropdown changed to: ${t.value}`)):console.warn("Couldn't find .instrumentClass element")}),0)}document.getElementById("btcTotal").innerHTML=`<span class="orange">Total Bitcoin Inscription Cost: ${o.toFixed(8)} BTC ($${i.toFixed(2)})</span>`,document.getElementById("stxTotal").innerHTML=`<span class="green">Total STX Minting Cost: ${s} STX ($${(s*t).toFixed(2)})</span>`,document.querySelectorAll(".instrumentClass").forEach((t=>{t.addEventListener("change",(function(){Xn(this.nextElementSibling,this.value)}))}))},window.uploadToIPFS=async function(){console.log("Uploading file to IPFS...");const t=document.getElementById("ipfsLinks"),e=document.getElementById("audioFiles").files;if(1!==e.length)return void console.error("Expected only one file for upload.");const n=e[0];if(console.log(`Uploading file to IPFS: ${n.name}`),n.size/1024>350)alert("File must be under 350kb");else try{const e=await function(t){return new Promise(((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=t=>n(t)}))}(n),r=document.querySelectorAll(".audioForm")[0],o={p:"audional",op:"deploy",audinal_id:"648e383daDbMUxq",fileName:r.querySelector(".fileName").value,instrumentClass:r.querySelector(".instrumentClass").value,instrumentType:r.querySelector(".instrumentType").value,creatorName:r.querySelector(".creatorName").value,audioData:e},i=await async function(t){try{const e={path:"audio.json",content:(new TextEncoder).encode(JSON.stringify(t))},n=`https://ipfs.io/ipfs/${(await Jn.add(e)).cid.toString()}`;return console.log(`File uploaded to IPFS. URL: ${n}`),n}catch(t){throw console.error("Error in IPFS upload:",t),t}}(o);console.log(`Inside uploadToIPFS, setting ipfsURLGlobal to ${i}`),Gn=i,t.innerHTML=`<div>${o.fileName}: ${i}</div>`,console.log("File uploaded!"),document.getElementById("mintButton").disabled=!1}catch(t){console.error("Error uploading to IPFS:",t)}},window.location.origin,window.manualMint=function(){console.log("Manual mint invoked."),Qn()},document.addEventListener("DOMContentLoaded",(t=>{if(console.log("DOM fully loaded and parsed"),qn.isUserSignedIn()){const t=qn.loadUserData();document.getElementById("walletStatus").textContent=`Logged in as: ${t.profile.stxAddress.testnet}`,document.getElementById("logoutBtn").style.display="block"}else document.getElementById("walletStatus").textContent="Not logged in",document.getElementById("logoutBtn").style.display="none";document.getElementById("loginBtn").addEventListener("click",(()=>{console.log("Login button clicked. Preparing to show Stacks authentication pop-up.");const t=window.location.origin+"/my_logo.png";Kn({userSession:qn,appDetails:{name:"My Stacks Web-App",icon:t},onFinish:()=>{if(qn.isUserSignedIn()){const t=qn.loadUserData();document.getElementById("walletStatus").textContent=`Logged in as: ${t.profile.stxAddress.mainnet}`,document.getElementById("logoutBtn").style.display="block"}window.location.reload()},onCancel:()=>{console.log("User cancelled login")}})})),document.getElementById("mintButton").addEventListener("click",(function(){console.log("Mint button clicked."),Qn()})),document.getElementById("logoutBtn").addEventListener("click",(()=>{qn.signUserOut(),document.getElementById("walletStatus").textContent="Not logged in",document.getElementById("logoutBtn").style.display="none"}))}))})()})();